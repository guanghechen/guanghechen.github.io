"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{26692:function(e,n,t){n.Z=function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){if(n.constructor!==t.constructor)return!1;if(Array.isArray(n)){if(n.length!==t.length)return!1;for(let r=0;r<n.length;++r)if(!e(n[r],t[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();let r=Object.keys(n);if(r.length!==Object.keys(t).length)return!1;for(let e=0;e<r.length;++e)if(!Object.prototype.hasOwnProperty.call(t,r[e]))return!1;for(let o=0;o<r.length;++o){let a=r[o];if(("_owner"!==a||!n.$$typeof)&&!e(n[a],t[a]))return!1}return!0}return Number.isNaN(n)&&Number.isNaN(t)}},9171:function(e,n,t){t.d(n,{D:function(){return s}});var r=t(4844),o=t(95050),a=t(67294);let i=[["#ffbe0b","#fb5607","#ff006e","#8338ec","#3a86ff"],["#9b5de5","#f15bb5","#fee440","#00bbf9","#00f5d4"]],u=()=>{let e=i.length;return i[Math.min(e-1,Math.floor(Math.random()*e))]},s=()=>{let e=a.useRef(!1),n=a.useRef(null);a.useEffect(()=>(n.current=new o.Z,()=>{n.current=null}),[]);let t=(0,r.$0)(async()=>{if(null==n.current)return;let t=n.current,r=u(),o=window.screen.width<=900;e.current=!0;try{await t.addConfetti({confettiColors:r,confettiRadius:o?4:8,confettiNumber:o?100:300})}finally{e.current=!1}});return t}},4844:function(e,n,t){t.d(n,{NY:function(){return a},$0:function(){return i},nu:function(){return u}});var r=t(67294),o=t(26692);function a(e,n){let t=r.useRef(0),a=r.useRef(n);return(0,o.Z)(a.current,n)||(t.current+=1),a.current=n,r.useMemo(e,[t.current])}function i(e){let n=r.useRef(e);return r.useLayoutEffect(()=>{n.current=e}),r.useCallback(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let o=n.current;return o(...t)},[])}function u(e){let[n,t]=r.useState(e);return r.useEffect(()=>t(e),[e]),[n,t]}},58695:function(e,n,t){t.d(n,{iA:function(){return f},f$:function(){return o}}),(r=o||(o={})).PENDING="pending",r.RUNNING="running",r.PAUSED="paused",r.FINISHED="finished";var r,o,a=t(67294),i=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.PENDING,r=a.useRef(-1),i=a.useRef(t),u=a.useRef(n),s=i.current;switch(i.current=e,e){case o.PENDING:return 0;case o.RUNNING:switch(s){case o.PENDING:return u.current=0,r.current=Date.now(),0;case o.RUNNING:return u.current+Date.now()-r.current;case o.PAUSED:return r.current=Date.now(),u.current;case o.FINISHED:return u.current=0,r.current=Date.now(),0;default:return u.current}case o.PAUSED:case o.FINISHED:return s===o.RUNNING&&(u.current+=Date.now()-r.current),u.current;default:throw TypeError("[usedRecordTime] expect a GameRunningState, but got (".concat(e,")"))}},u=t(85893),s=t(27484),l=t.n(s),c=t(1646),d=t.n(c);function f(e){let{gameStatus:n,delay:t=1e3,format:r="HH:mm:ss",className:o,style:s,initialUsedTime:c,initialStatus:d,onUsedTimeChange:f}=e,p=i(n,c,d),h=l().duration(p).format(r),[,k]=a.useState(0);return a.useEffect(()=>{let e,r;if("running"!==n)return;let o=t-p%t,a=()=>k(e=>e+1);return e=setTimeout(()=>{e=void 0,a(),r=setInterval(a,t)},o),()=>{void 0!==e&&clearTimeout(e),void 0!==r&&clearInterval(r)}},[n,t]),a.useEffect(()=>{null==f||f(p)},[p,f]),(0,u.jsx)("span",{className:o,style:s,children:h})}l().extend(d()),f.displayName="ElapsedTimer"},20149:function(e,n,t){t.d(n,{oh:function(){return a},tR:function(){return eK},Uo:function(){return T},aK:function(){return e4},ZP:function(){return e2},g5:function(){return I}});var r,o,a,i,u=t(85893),s=t(45697),l=t.n(s),c=t(67294);(r=a||(a={})).RESTART="@sudoku/restart",r.RESET="@sudoku/reset",r.START="@sudoku/start",r.PAUSE="@sudoku/pause",r.RESUME="@sudoku/resume",r.FINISHED="@sudoku/finished",r.ACTIVE="@sudoku/active",r.HINT="@sudoku/hint",r.TOGGLE_CHEAT_VISIBILITY="@sudoku/toggle-cheat-visibility",r.INPUT="@sudoku/input",r.REFRESH_TIME_USED="@sudoku/refresh-time-used",(o=i||(i={})).ERASE="erase",o.HINT="hint",o.WRITE="write";var d=t(46528),f=t(21446),p=t(5967),h=t(43118),k=t(58695);let m={},y={},b=e=>{let n=y[e];return void 0===n&&(n=new h.$X(e),y[e]=n),n},x=e=>{let n=m[e];return void 0===n&&(n=new h.wY({childMatrixWidth:e}),m[e]=n),n},v=(e,n,t,r)=>{let{BOARD:o}=e;for(let e=0;e<o;++e)if(-1===n[e])return e;for(let e=0;e<o;++e)if(-1===t[e]&&n[e]!==r[e])return e;return -1};function g(e,n,t){let{BOARD:r}=e;for(let e=0;e<r;++e)if(n[e]!==t[e])return!1;return!0}function _(e,n){if(n<0)return{r:-1,c:-1};let{MATRIX:t}=e;return{r:Math.floor(n/t),c:n%t}}let S=function(e){var n;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,{SUDOKU_SIZE_SQRT:r=t.SUDOKU_SIZE_SQRT,difficulty:o=t.difficulty,score:a=t.score,radix:u=t.radix,activatedPos:s=null!==(n=t.activatedPos)&&void 0!==n?n:-1,gameTick:l=t.gameTick,puzzle:c=t.puzzle,solution:d=t.solution,instructions:f=t.instructions.slice(),usedTimeRef:p={current:t.usedTimeRef.current}}={...e},{puzzle:m,solution:y}=null!=c&&null!=d?{puzzle:c,solution:d}:x(r).createSudoku(o/100),v=b(r),_=(0,h.s0)(v);(0,h._g)(m,_,v),function(e,n,t){for(let r of t)switch(r.type){case i.ERASE:{let{r:t,c:o}=r.payload,a=t*e.MATRIX+o;n[a]=-1;break}case i.WRITE:{let{r:t,c:o,v:a}=r.payload,i=t*e.MATRIX+o;n[i]=a}}}(v,_,f);let S=g(v,_,y)?k.f$.FINISHED:g(v,_,m)?k.f$.PENDING:k.f$.PAUSED;return{SUDOKU_SIZE_SQRT:r,difficulty:o,radix:u,gameStatus:S,score:a,attempt:_,instructions:f,puzzle:m,solution:y,activatedPos:s,hintPos:-1,cheatVisible:!1,usedTimeRef:p,gameTick:l,attemptTick:0,hintTick:0}},N={SUDOKU_SIZE_SQRT:3,difficulty:20,radix:10,gameStatus:k.f$.PENDING,score:0,puzzle:null,solution:null,attempt:null,instructions:[],activatedPos:-1,hintPos:-1,cheatVisible:!1,usedTimeRef:{current:0},gameTick:0,attemptTick:0,hintTick:0},[E,I]=(0,f.oS)("SudokuContextType",{state:S(),dispatch:()=>{throw Error("[SudokuContextType] dispatch is not available yet.")}}),T=(0,p.im)({version:"2022-10-24",ContextName:"SudokuContext",ContextType:E,useContext:I,initState:S,reducer:(e,n)=>{switch(n.type){case a.RESTART:{let{SUDOKU_SIZE_SQRT:n,difficulty:t}=e,r=x(n),{puzzle:o,solution:a}=r.createSudoku(t),i=(0,h.s0)(r.size);return(0,h._g)(o,i,r.size),e.usedTimeRef.current=0,{...e,gameStatus:k.f$.PENDING,gameTick:e.gameTick+1,puzzle:o,attempt:i,instructions:[],solution:a,hintPos:-1,hintTick:0,attemptTick:0}}case a.RESET:{let{difficulty:t=e.difficulty,SUDOKU_SIZE_SQRT:r=e.SUDOKU_SIZE_SQRT,radix:o=e.radix}=n.payload,{score:a,usedTimeRef:i,activatedPos:u,gameTick:s}=e,l=x(r),{puzzle:c,solution:d}=l.createSudoku(t/100),f=(0,h.s0)(l.size);return(0,h._g)(c,f,l.size),i.current=0,{SUDOKU_SIZE_SQRT:r,difficulty:t,radix:o,gameStatus:k.f$.PENDING,score:a,puzzle:c,attempt:f,solution:d,instructions:[],activatedPos:u,hintPos:-1,cheatVisible:!1,usedTimeRef:i,gameTick:s+1,attemptTick:0,hintTick:0}}case a.START:if(e.usedTimeRef.current=0,e.gameStatus!==k.f$.PENDING)return e;return{...e,gameStatus:k.f$.RUNNING};case a.PAUSE:if(e.gameStatus!==k.f$.RUNNING)return e;return{...e,gameStatus:k.f$.PAUSED};case a.RESUME:if(e.gameStatus!==k.f$.PAUSED)return e;return{...e,gameStatus:k.f$.RUNNING};case a.FINISHED:{if(e.gameStatus!==k.f$.RUNNING)return e;let t=Math.round(n.payload);return{...e,gameStatus:k.f$.FINISHED,score:e.score+Math.max(5,t)}}case a.ACTIVE:{let{r:t,c:r}=n.payload,o=b(e.SUDOKU_SIZE_SQRT),a=t*o.MATRIX+r;if(e.activatedPos===a)return e;return{...e,activatedPos:a}}case a.HINT:{let{puzzle:n,solution:t,attempt:r,activatedPos:o}=e,a=b(e.SUDOKU_SIZE_SQRT),u=-1===o||-1!==n[o]?v(a,r,n,t):o,s=_(a,u);return{...e,hintPos:u,hintTick:e.hintTick+1,instructions:[...e.instructions,{type:i.HINT,payload:s,timestamp:new Date().toISOString()}]}}case a.TOGGLE_CHEAT_VISIBILITY:{var t;if(n.payload===e.cheatVisible)return e;let r=null!==(t=n.payload)&&void 0!==t?t:!e.cheatVisible;return{...e,cheatVisible:r}}case a.INPUT:{if(e.gameStatus!==k.f$.RUNNING)return e;let t=n.payload,{SUDOKU_SIZE_SQRT:r,activatedPos:o,attemptTick:a}=e,{size:u}=x(r);if(!Number.isInteger(t)||t<-1||t>=u.BOARD||-1===o||-1!==e.puzzle[o]||e.attempt[o]===t)return e;let s=(0,h.s0)(u);(0,h._g)(e.attempt,s,u),s[o]=t;let{r:l,c}=_(u,o);return{...e,attempt:s,attemptTick:a+1,activatedPos:o,hintPos:o===e.hintPos?-1:e.hintPos,instructions:[...e.instructions,{type:i.WRITE,payload:{r:l,c,v:t},timestamp:new Date().toISOString()}]}}case a.REFRESH_TIME_USED:return e.usedTimeRef.current=n.payload,e;default:return e}},serialize:e=>(0,d.ei)(e,["SUDOKU_SIZE_SQRT","difficulty","radix","score","puzzle","solution","instructions","activatedPos","usedTimeRef"])});var C=t(82729),R=t(18872),j=t(6260),D=t(4844),w=t(72908),U=t(78262),P=t(9581),Z=t(98271),z=t(31425),A=t(83321);let $=e=>{let{radix:n,container:t,initialValue:r,visible:o,label:a,onCancel:i,onConfirm:s}=e,[l,d]=c.useState(r);return c.useEffect(()=>d(r),[r,o]),(0,u.jsxs)(U.Z,{container:t,open:o,onClose:i,"aria-labelledby":"sudoku-input-dialog",children:[(0,u.jsx)(P.Z,{children:(0,u.jsx)(Z.Z,{autoFocus:!0,margin:"dense",label:a,type:n<=10?"number":"input",fullWidth:!0,value:l,onChange:e=>d(e.target.value),onFocus:e=>e.target.select(),onKeyDown:e=>{"Enter"===e.key&&s(l)}})}),(0,u.jsxs)(z.Z,{children:[(0,u.jsx)(A.Z,{color:"inherit",onClick:i,children:"Cancel"}),(0,u.jsx)(A.Z,{color:"primary",onClick:()=>s(l),children:"Confirm"})]})]})};var G=t(9171),M=t(41616),H=t(70655),O=t(1849);function F(){let e=(0,C._)(["\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: 100%;\n        user-select: none;\n      "]);return F=function(){return e},e}function K(){let e=(0,C._)(["\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n      "]);return K=function(){return e},e}function B(){let e=(0,C._)(["\n        &&, &&:hover {\n          box-shadow: 4px 4px 16px 0px hsl(0deg 0% 0% / 0.75);\n        }\n      "]);return B=function(){return e},e}function L(){let e=(0,C._)(["\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        padding: 0;\n        margin: 0;\n        font-size: 32px;\n      "]);return L=function(){return e},e}function V(){let e=(0,C._)(["\n        color: #e200e2;\n      "]);return V=function(){return e},e}let Q=()=>{let e=I(e=>e.dispatch),n=I(e=>e.state.gameStatus),t=(0,G.D)(),r=W();return c.useMemo(()=>{switch(n){case k.f$.PENDING:return(0,u.jsx)("div",{className:r.overlay,children:(0,u.jsx)(A.Z,{className:r.button,variant:"contained",color:"primary",startIcon:(0,u.jsx)(H.Z,{}),onClick:()=>e({type:a.START}),children:"Start"})});case k.f$.PAUSED:return(0,u.jsx)("div",{className:r.overlay,children:(0,u.jsx)(A.Z,{className:r.button,variant:"contained",color:"primary",startIcon:(0,u.jsx)(M.Z,{}),onClick:()=>e({type:a.RESUME}),children:"Resume"})});case k.f$.FINISHED:return t(),(0,u.jsx)("div",{className:r.overlay,children:(0,u.jsxs)("div",{className:r.finishedBanner,children:[(0,u.jsx)("p",{children:"You win \uD83C\uDF89\uD83C\uDF89\uD83C\uDF89"}),(0,u.jsx)(A.Z,{className:r.button,variant:"contained",color:"primary",startIcon:(0,u.jsx)(O.Z,{}),onClick:()=>e({type:a.RESTART}),children:"New"})]})});default:return null}},[r,n,t,e])},W=()=>c.useMemo(()=>({overlay:(0,R.iv)(F()),confettiCanvas:(0,R.iv)(K()),button:(0,R.iv)(B()),finishedBanner:(0,R.iv)(L()),playerName:(0,R.iv)(V())}),[]);var X=t(45018),Y=t(55819),q=t(45929);function J(){let e=(0,C._)(["\n        display: block;\n        max-width: min(90vw, 400px);\n        margin: auto;\n      "]);return J=function(){return e},e}function ee(){let e=(0,C._)(["\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n        justify-content: flex-start;\n        margin: 1rem 0;\n        & > * {\n          margin-right: 1rem;\n        }\n      "]);return ee=function(){return e},e}function en(){let e=(0,C._)(["\n        flex-wrap: nowrap;\n        & > span {\n          &:first-child {\n            flex: 0 0 auto;\n          }\n        }\n      "]);return en=function(){return e},e}let et=()=>{let e=I(e=>e.dispatch),n=I(e=>e.state.SUDOKU_SIZE_SQRT),t=I(e=>e.state.gameStatus),r=I(e=>e.state.difficulty),o=I(e=>e.state.radix),i=er(),s=t===k.f$.PENDING,l=c.useMemo(()=>({onSizeChange:n=>{e({type:a.RESET,payload:{SUDOKU_SIZE_SQRT:Number(n.target.value)}})},onRadixChange:n=>{e({type:a.RESET,payload:{radix:Number(n.target.value)}})},onDifficultyChange:(n,t)=>{e({type:a.RESET,payload:{difficulty:t}})}}),[e]);return(0,u.jsxs)("div",{className:i.settings,children:[(0,u.jsxs)("div",{className:i.item,children:[(0,u.jsx)("span",{children:"Size:"}),(0,u.jsxs)(X.Z,{variant:"standard",value:n,disabled:!s,onChange:l.onSizeChange,children:[(0,u.jsx)(Y.Z,{value:2,children:"4x4"}),(0,u.jsx)(Y.Z,{value:3,children:"9x9"}),(0,u.jsx)(Y.Z,{value:4,children:"16x16"})]})]}),(0,u.jsxs)("div",{className:i.item,children:[(0,u.jsx)("span",{children:"Radix:"}),(0,u.jsxs)(X.Z,{variant:"standard",value:o,disabled:!s,onChange:l.onRadixChange,children:[(0,u.jsx)(Y.Z,{value:10,children:"Decimal (x10)"}),(0,u.jsx)(Y.Z,{value:16,children:"Hexadecimal (x16)"})]})]}),(0,u.jsxs)("div",{className:(0,R.cx)(i.item,i.difficulty),children:[(0,u.jsx)("span",{children:"Difficulty:"}),(0,u.jsx)(q.ZP,{value:r,disabled:!s,step:1,min:0,max:100,valueLabelDisplay:"auto","aria-labelledby":"sudoku-difficulty",onChange:l.onDifficultyChange})]})]})},er=()=>c.useMemo(()=>({settings:(0,R.iv)(J()),item:(0,R.iv)(ee()),difficulty:(0,R.iv)(en())}),[]);var eo=t(75303),ea=t(53247),ei=t(65464),eu=t(22961),es=t(76997),el=t(93946);function ec(){let e=(0,C._)(["\n    display: block;\n    max-width: min(90vw, 400px);\n    margin: auto;\n  "]);return ec=function(){return e},e}function ed(){let e=(0,C._)(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: flex-start;\n    margin: 1rem 0;\n    > * {\n      margin-right: 1rem;\n    }\n  "]);return ed=function(){return e},e}function ef(){let e=(0,C._)(["\n    justify-content: space-around;\n    > button {\n      margin: 0 4px;\n    }\n  "]);return ef=function(){return e},e}function ep(){let e=(0,C._)(["\n    justify-content: center;\n    margin: 2rem 0 0;\n    height: 48px;\n  "]);return ep=function(){return e},e}function eh(){let e=(0,C._)(["\n    flex: 0 1 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0;\n    user-select: none;\n  "]);return eh=function(){return e},e}function ek(){let e=(0,C._)(["\n    flex: 0 1 auto;\n    display: flex;\n    align-items: center;\n    font-family: Consolas, 'Source Code Pro', 'Roboto Mono', monospace, sans-serif;\n    color: #595959;\n    user-select: none;\n  "]);return ek=function(){return e},e}function em(){let e=(0,C._)(["\n    flex: 0 1 auto;\n    color: green;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-family: Consolas, 'Source Code Pro', 'Roboto Mono', monospace, sans-serif;\n  "]);return em=function(){return e},e}let ey=e=>{let{containerRef:n}=e,t=I(e=>e.dispatch),r=I(e=>e.state.gameStatus),o=I(e=>e.state.usedTimeRef),i=I(e=>e.state.score),[s,l]=c.useState(!1),d=c.useMemo(()=>({showCheat:()=>{t({type:a.TOGGLE_CHEAT_VISIBILITY,payload:!0})},restartGame:()=>{l(!1),t({type:a.RESTART})},pauseGame:()=>{t({type:a.PAUSE})},hint:()=>{t({type:a.HINT})},onUsedTimeChange:e=>{t({type:a.REFRESH_TIME_USED,payload:e})},closeRestartDialog:()=>{l(!1)}}),[t]),f=eb();return(0,u.jsxs)("div",{className:f.toolbar,children:[(0,u.jsxs)("div",{className:(0,R.cx)(f.item,f.buttons),children:[(0,u.jsx)(A.Z,{variant:"contained",color:"inherit",startIcon:(0,u.jsx)(O.Z,{}),onClick:()=>r===k.f$.PENDING||r===k.f$.FINISHED?d.restartGame():l(!0),children:"New"}),(0,u.jsx)(A.Z,{variant:"contained",color:"inherit",disabled:r!==k.f$.RUNNING,startIcon:(0,u.jsx)(eo.Z,{}),onClick:d.hint,children:"HINT"}),(0,u.jsx)(A.Z,{variant:"contained",color:"secondary",disabled:r!==k.f$.RUNNING,startIcon:(0,u.jsx)(eu.Z,{}),onClick:d.showCheat,children:"Cheat"})]}),(0,u.jsxs)("div",{className:(0,R.cx)(f.item,f.state),children:[(0,u.jsx)("div",{className:f.stateButtons,children:r===k.f$.RUNNING&&(0,u.jsx)(es.Z,{title:"Pause",children:(0,u.jsx)(el.Z,{color:"primary",onClick:d.pauseGame,children:(0,u.jsx)(ea.Z,{})})})},"state-buttons"),(0,u.jsxs)("div",{className:f.elapsedTime,children:[(0,u.jsx)(es.Z,{title:"Time used",children:(0,u.jsx)(ei.Z,{})}),"\xa0\xa0",(0,u.jsx)(k.iA,{gameStatus:r,initialUsedTime:o.current,onUsedTimeChange:d.onUsedTimeChange})]},"elapsed-time"),(0,u.jsxs)("div",{className:f.score,children:["Score: ",i]},"score")]}),(0,u.jsxs)(U.Z,{container:n.current,open:s,onClose:d.closeRestartDialog,"aria-labelledby":"confirm-to-restart",children:[(0,u.jsx)(P.Z,{children:"Are you sure you want to start a new game?"}),(0,u.jsxs)(z.Z,{children:[(0,u.jsx)(A.Z,{color:"inherit",onClick:d.closeRestartDialog,children:"Cancel"}),(0,u.jsx)(A.Z,{color:"primary",onClick:d.restartGame,children:"Confirm"})]})]})]})};ey.propTypes={containerRef:l().any.isRequired};let eb=()=>({toolbar:(0,R.iv)(ec()),item:(0,R.iv)(ed()),buttons:(0,R.iv)(ef()),state:(0,R.iv)(ep()),stateButtons:(0,R.iv)(eh()),elapsedTime:(0,R.iv)(ek()),score:(0,R.iv)(em())});function ex(){let e=(0,C._)(["\n        position: absolute;\n        box-sizing: content-box;\n        background: var(--kyokuya-sudoku__board-border-thickness-color);\n      "]);return ex=function(){return e},e}function ev(){let e=(0,C._)(["\n        left: 0;\n        right: 0;\n        bottom: unset;\n        width: calc(100% + 2px);\n        height: var(--kyokuya-sudoku__board-border-thickness);\n      "]);return ev=function(){return e},e}function eg(){let e=(0,C._)(["\n        top: 0;\n        bottom: 0;\n        right: unset;\n        height: calc(100% + 2px);\n        width: var(--kyokuya-sudoku__board-border-thickness);\n      "]);return eg=function(){return e},e}let e_=e=>{let{SUDOKU_SIZE_SQRT:n}=e,t=eS();return c.useMemo(()=>{let e=n*n,r=[];for(let o=n,a=-1;o<e;o+=n,++a){let e="calc(".concat(o," * var(--kyokuya-sudoku__board-cell-size) + ").concat(o+a,"px)");r.push((0,u.jsx)("div",{className:(0,R.cx)(t.boarder,t.horizontalBoarder),style:{top:e}},"h-".concat(o))),r.push((0,u.jsx)("div",{className:(0,R.cx)(t.boarder,t.verticalBorder),style:{left:e}},"v-".concat(o)))}return(0,u.jsx)(c.Fragment,{children:r})},[n,t])};e_.propTypes={SUDOKU_SIZE_SQRT:l().number.isRequired};let eS=()=>c.useMemo(()=>({boarder:(0,R.iv)(ex()),horizontalBoarder:(0,R.iv)(ev()),verticalBorder:(0,R.iv)(eg())}),[]);function eN(e,n){let{BOARD:t,MATRIX:r,BASE_1:o,BASE_3:a}=e,i=Array(t).fill(!1),u=Array(r).fill(0);for(let e=0;e<t;e+=r){u.fill(0);for(let t=e,o=e+r;t<o;++t){let e=n[t];-1!==e&&(u[e]+=1)}for(let t=e,o=e+r;t<o;++t){let e=n[t];-1!==e&&u[e]>1&&(i[t]=!0)}}for(let e=0;e<r;++e){u.fill(0);for(let o=e;o<t;o+=r){let e=n[o];-1!==e&&(u[e]+=1)}for(let o=e;o<t;o+=r){let e=n[o];-1!==e&&u[e]>1&&(i[o]=!0)}}for(let e=0;e<t;e+=a)for(let t=0;t<r;t+=o){u.fill(0);for(let i=e,s=e+a;i<s;i+=r)for(let e=i+t,r=e+o;e<r;++e){let t=n[e];-1!==t&&(u[t]+=1)}for(let s=e,l=e+a;s<l;s+=r)for(let e=s+t,r=e+o;e<r;++e){let t=n[e];-1!==t&&u[t]>1&&(i[e]=!0)}}return i}function eE(){let e=(0,C._)(["\n        --kyokuya-sudoku__board-bg: #d3d8e2;\n        --kyokuya-sudoku__board-cell-bg: #fff;\n        --kyokuya-sudoku__board-cell-size: 32px;\n        --kyokuya-sudoku__board-cell-font-size: 16px;\n        --kyokuya-sudoku__board-cell-border-thickness: 1px;\n        --kyokuya-sudoku__board-border-thickness: 2px;\n        --kyokuya-sudoku__board-border-thickness-color: #111;\n        --kyokuya-sudoku__board-border-thickness-plus: 3px;\n        --kyokuya-sudoku__board-border-thickness-plus-color: #111;\n        position: relative;\n        box-sizing: content-box;\n        display: inline-block;\n        width: fit-content;\n        padding: 0;\n        border: var(--kyokuya-sudoku__board-border-thickness-plus) solid var(--kyokuya-sudoku__board-border-thickness-plus-color);\n        margin: 0;\n        background-color: var(--kyokuya-sudoku__board-bg);\n        font-family: Consolas, 'Source Code Pro', 'Roboto Mono', monospace, sans-serif;\n        [data-sudoku-size=\"4x4\"] && {\n          --kyokuya-sudoku__board-cell-size: 48px;\n          --kyokuya-sudoku__board-cell-font-size: 20px;\n        }\n      "]);return eE=function(){return e},e}function eI(){let e=(0,C._)(['\n        z-index: 2;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        display: none;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background: linear-gradient(\n          45deg,\n          hsl(30deg 20% 90% / 0.2),\n          hsl(210deg 20% 100% / 0.3)\n        );\n        [data-sudoku-status="','"] && {\n          display: block;\n          backdrop-filter: blur(1px);\n        }\n        [data-sudoku-status="','"] && {\n          display: none;\n        }\n        [data-sudoku-status="','"] && {\n          display: block;\n          backdrop-filter: blur(16px);\n        }\n        [data-sudoku-status="','"] && {\n          display: block;\n          backdrop-filter: blur(4px);\n          color: #ff00ff;\n          animation: 1s 0s '," ease-in-out;\n        }\n      "]);return eI=function(){return e},e}function eT(){let e=(0,C._)(['\n        display: flex;\n        flex-direction: column;\n        font-size: var(--kyokuya-sudoku__board-cell-font-size);\n        [data-sudoku-status="','"] && {\n          border-color: transparent;\n        }\n        [data-sudoku-status="','"] && {\n          border-color: transparent;\n        }\n        [data-sudoku-status="','"] && {\n          border-color: transparent;\n        }\n      ']);return eT=function(){return e},e}function eC(){let e=(0,C._)(["\n        display: flex;\n      "]);return eC=function(){return e},e}function eR(){let e=(0,C._)(["\n        flex: 0 0 auto;\n        overflow: hidden;\n        display: inline-block;\n        box-sizing: border-box;\n        width: var(--kyokuya-sudoku__board-cell-size);\n        height: var(--kyokuya-sudoku__board-cell-size);\n        margin: var(--kyokuya-sudoku__board-cell-border-thickness) 0 0 var(--kyokuya-sudoku__board-cell-border-thickness);\n        background-color: var(--kyokuya-sudoku__board-cell-bg);\n        user-select: none;\n        cursor: pointer;\n      "]);return eR=function(){return e},e}function ej(){let e=(0,C._)(['\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n        height: 100%;\n        width: 100%;\n        padding: 4px;\n        margin: 0;\n        [data-sudoku-hint="true"] && {\n          animation: 0.5s 0s '," linear 1 both normal;\n        }\n      "]);return ej=function(){return e},e}function eD(){let e=(0,C._)(["\n        && {\n          margin-left: 0;\n        }\n      "]);return eD=function(){return e},e}function ew(){let e=(0,C._)(["\n        && {\n          margin-left: var(--kyokuya-sudoku__board-border-thickness);\n        }\n      "]);return ew=function(){return e},e}function eU(){let e=(0,C._)(["\n        && {\n          margin-top: 0;\n        }\n      "]);return eU=function(){return e},e}function eP(){let e=(0,C._)(["\n        && {\n          margin-top: var(--kyokuya-sudoku__board-border-thickness);\n        }\n      "]);return eP=function(){return e},e}function eZ(){let e=(0,C._)(["\n        && {\n          color: #333;\n        }\n      "]);return eZ=function(){return e},e}function ez(){let e=(0,C._)(["\n        && {\n          color: #ffa500;\n        }\n      "]);return ez=function(){return e},e}function eA(){let e=(0,C._)(["\n        && {\n          color: #0080ff;\n        }\n      "]);return eA=function(){return e},e}function e$(){let e=(0,C._)(["\n        && {\n          background: #ff6a00;\n        }\n      "]);return e$=function(){return e},e}function eG(){let e=(0,C._)(["\n        && {\n          background: #6eb2f7;\n        }\n      "]);return eG=function(){return e},e}function eM(){let e=(0,C._)(["\n        && {\n          background: #e2ebf3;\n        }\n      "]);return eM=function(){return e},e}function eH(){let e=(0,C._)(["\n        && {\n          background: #bbdefb;\n        }\n      "]);return eH=function(){return e},e}function eO(){let e=(0,C._)(["\n    0% {\n      transform: translate(0, -100px);\n    }\n    80% {\n      transform: translate(0, 20px);\n    }\n    90% {\n      transform: translate(0, -10px);\n    }\n    95% {\n      transform: translate(0, 2px);\n    }\n    100% {\n      transform: translate(0, 0);\n    }\n  "]);return eO=function(){return e},e}function eF(){let e=(0,C._)(["\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n\n    50% {\n      transform: scale(2) rotate(200deg);\n    }\n\n    100% {\n      transform: scale(1.3) rotate(360deg);\n    }\n  "]);return eF=function(){return e},e}let eK=e=>{let n;let{attempt:t,hintPos:r,className:o,overlay:i,onCellClick:s}=e,l=I(e=>e.dispatch),d=I(e=>e.state.SUDOKU_SIZE_SQRT),f=I(e=>e.state.puzzle),p=I(e=>e.state.solution),k=I(e=>e.state.radix),m=I(e=>e.state.activatedPos),y=I(e=>e.state.hintTick),b=c.useMemo(()=>new h.$X(d),[d]),x=eB(),v={onCellClick:(0,D.$0)((e,n)=>{null!=s&&s(e,n),l({type:a.ACTIVE,payload:{r:e,c:n}})})},g=(0,h.iN)(b),{r:S,c:N}=_(b,m),E=g[m],T=-1===m?-1:t[m],{r:C=-1,c:j=-1}=_(b,r),w=-1===r?-1:p[r];{let e=-1!==r&&-1===f[r];if(e){let e=t[r];t[r]=p[r],n=eN(b,t),t[r]=e}else n=eN(b,t)}let U=[];for(let e=0,r=0;e<b.MATRIX;++e){let o=[];for(let a=0;a<b.MATRIX;++a,++r){let i=t[r],s=e===C&&a===j,l=e===S&&a===N,c=!l&&(e===S||a===N||g[r]===E),p=-1!==T&&i===T&&!c&&!l,h=!!n[r],m=s?w:i,b=(0,u.jsx)("span",{className:(0,R.cx)(x.boardCell,{[x.boardCellLeftSeamless]:0===a,[x.boardCellLeft]:a>0&&a%d==0,[x.boardCellTopSeamless]:0===e,[x.boardCellTop]:e>0&&e%d==0,[x.boardCellPreset]:-1!==i,[x.boardCellAttempt]:i!==f[r],[x.boardCellDuplicated]:!s&&h,[x.boardCellHint]:s,[x.boardCellActivated]:!h&&l,[x.boardCellRelated]:!h&&c,[x.boardCellSame]:!h&&p}),"data-sudoku-hint":s,children:(0,u.jsx)("span",{className:x.boardCellContent,onClick:()=>v.onCellClick(e,a),children:-1===m?"":(m+1).toString(k)})},s?"".concat(a,"-hint-").concat(y):a);o.push(b)}U.push((0,u.jsx)("div",{className:x.boardRow,children:o},e))}return(0,u.jsxs)("div",{className:"".concat(x.container," ").concat(o),children:[(0,u.jsx)("div",{className:x.overlay,children:i},"overlay"),(0,u.jsx)(e_,{SUDOKU_SIZE_SQRT:d}),(0,u.jsx)("div",{className:x.boardWrapper,children:U},"wrapper")]})};eK.propTypes={attempt:l().array.isRequired,className:l().string,overlay:l().node,onCellClick:l().func};let eB=()=>c.useMemo(()=>({container:(0,R.iv)(eE()),overlay:(0,R.iv)(eI(),k.f$.PENDING,k.f$.RUNNING,k.f$.PAUSED,k.f$.FINISHED,eL.finished),boardWrapper:(0,R.iv)(eT(),k.f$.PENDING,k.f$.PAUSED,k.f$.FINISHED),boardRow:(0,R.iv)(eC()),boardCell:(0,R.iv)(eR()),boardCellContent:(0,R.iv)(ej(),eL.hint),boardCellLeftSeamless:(0,R.iv)(eD()),boardCellLeft:(0,R.iv)(ew()),boardCellTopSeamless:(0,R.iv)(eU()),boardCellTop:(0,R.iv)(eP()),boardCellPreset:(0,R.iv)(eZ()),boardCellHint:(0,R.iv)(ez()),boardCellAttempt:(0,R.iv)(eA()),boardCellDuplicated:(0,R.iv)(e$()),boardCellActivated:(0,R.iv)(eG()),boardCellRelated:(0,R.iv)(eM()),boardCellSame:(0,R.iv)(eH())}),[]),eL={finished:(0,R.F4)(eO()),hint:(0,R.F4)(eF())};function eV(){let e=(0,C._)(['\n        display: block;\n        transform: scale(1);\n        caret-color: transparent;\n        --kyokuya-sudoku__font-size: 18px;\n        &[data-sudoku-size="4x4"] {\n          --kyokuya-sudoku__font-size: 24px;\n        }\n      ']);return eV=function(){return e},e}function eQ(){let e=(0,C._)(["\n        position: relative;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        width: 100%;\n        background: #eddede;\n      "]);return eQ=function(){return e},e}function eW(){let e=(0,C._)(["\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: unset;\n        left: unset;\n        display: inline-block;\n        height: 48px;\n        width: 48px;\n        line-height: 48px;\n        font-size: 32px;\n        text-align: center;\n        vertical-align: center;\n        color: #333;\n        cursor: pointer;\n      "]);return eW=function(){return e},e}function eX(){let e=(0,C._)(["\n        display: block;\n        max-width: 90vw;\n        margin: auto;\n      "]);return eX=function(){return e},e}function eY(){let e=(0,C._)(["\n        display: flex;\n        justify-content: center;\n        padding: 1rem;\n        margin: 0;\n      "]);return eY=function(){return e},e}function eq(){let e=(0,C._)(["\n        display: block;\n        overflow: auto;\n        font-size: 16px;\n      "]);return eq=function(){return e},e}function eJ(){let e=(0,C._)(['\n        [data-sudoku-status="','"] && {\n          --kyokuya-sudoku__board-border-thickness-color: transparent;\n          --kyokuya-sudoku__board-border-thickness-plus-color: transparent;\n        }\n        [data-sudoku-status="','"] && {\n          --kyokuya-sudoku__board-border-thickness-color: transparent;\n          --kyokuya-sudoku__board-border-thickness-plus-color: transparent;\n        }\n        [data-sudoku-status="','"] && {\n          --kyokuya-sudoku__board-border-thickness-color: transparent;\n          --kyokuya-sudoku__board-border-thickness-plus-color: transparent;\n        }\n      ']);return eJ=function(){return e},e}let e0=()=>{let e=I(e=>e.dispatch),n=I(e=>e.state.SUDOKU_SIZE_SQRT),t=I(e=>e.state.gameStatus),r=I(e=>e.state.puzzle),o=I(e=>e.state.solution),i=I(e=>e.state.attempt),s=I(e=>e.state.difficulty),l=I(e=>e.state.radix),d=I(e=>e.state.usedTimeRef),p=I(e=>e.state.hintPos),h=I(e=>e.state.attemptTick),k=I(e=>e.state.cheatVisible),m=b(n),y=c.useRef(null),x=c.useRef(""),[v,_]=c.useState(!1),S={closeCheat:(0,D.$0)(()=>{e({type:a.TOGGLE_CHEAT_VISIBILITY,payload:!1})}),handleInput:(0,D.$0)(n=>{_(!1),x.current=n;let t=/^\s*$/.test(n)?0:Number.parseInt(n,l);Number.isInteger(t)&&e({type:a.INPUT,payload:t-1})}),handleCellClick:(0,D.$0)((e,n)=>{if(-1===e||-1===n)return;let t=e*m.MATRIX+n;-1===r[t]&&_(!0)})};c.useEffect(()=>{let n=()=>e({type:a.PAUSE});return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[e]),c.useEffect(()=>{let t=g(m,i,o);if(!t)return;let r=0,u=n**4*1e3;if(d.current<u){let e=n**4*s/100;r=(u-d.current)*e/1e3}e({type:a.FINISHED,payload:r})},[m,h,t]),(0,j.Z)(n>=2&&n<=7,"`childMatrixSize` must be an integer in the range [2, 7].");let N=e1(),E=n*n;return(0,u.jsxs)("div",{ref:y,className:N.sudoku,"data-sudoku-status":t,"data-sudoku-size":"".concat(E,"x").concat(E),children:[(0,u.jsxs)("div",{className:N.sudokuWrapper,children:[(0,u.jsx)(et,{}),(0,u.jsx)(ey,{containerRef:y}),(0,u.jsx)("div",{className:N.sudokuMain,children:(0,u.jsxs)("div",{className:N.sudokuMainWrapper,children:[(0,u.jsx)(eK,{className:N.sudokuBoardPuzzle,attempt:i,hintPos:p,overlay:(0,u.jsx)(Q,{}),onCellClick:S.handleCellClick}),(0,u.jsx)(w.Z,{open:k,container:y.current,keepMounted:!0,disableAutoFocus:!0,BackdropProps:{timeout:500},closeAfterTransition:!0,onClose:S.closeCheat,children:(0,u.jsxs)("div",{className:N.sudokuSolution,onClick:S.closeCheat,children:[(0,u.jsx)("span",{className:N.sudokuSolutionClose,children:"\xd7"}),(0,u.jsx)("div",{onClick:f.UW,children:(0,u.jsx)(eK,{attempt:o,hintPos:-1})})]})})]})})]}),(0,u.jsx)($,{radix:l,container:y.current,initialValue:x.current,visible:v,label:"A ".concat(10===l?"decimal":"hexadecimal"," number"),onCancel:()=>_(!1),onConfirm:S.handleInput})]})},e1=()=>c.useMemo(()=>({sudoku:(0,R.iv)(eV()),sudokuSolution:(0,R.iv)(eQ()),sudokuSolutionClose:(0,R.iv)(eW()),sudokuWrapper:(0,R.iv)(eX()),sudokuMain:(0,R.iv)(eY()),sudokuMainWrapper:(0,R.iv)(eq()),sudokuBoardPuzzle:(0,R.iv)(eJ(),k.f$.PENDING,k.f$.PAUSED,k.f$.FINISHED)}),[]),e4=e=>(0,u.jsx)(T,{storageKey:e.storageKey,initialData:e.initialState,children:(0,u.jsx)(e0,{})});e4.propTypes={storageKey:l().string.isRequired,initialState:l().any};var e2=e4}}]);