"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{55672:function(e,r,n){n.r(r),n.d(r,{GraphvizRenderer:function(){return GraphvizRenderer}});var o=n(35944),t=n(48478),i=n(90902),p=n(45697),s=n.n(p),d=n(67294);let GraphvizRenderer=class GraphvizRenderer extends d.Component{shouldComponentUpdate(e){let r=this.props;return r.code!==e.code||r.engine!==e.engine||!(0,t.X)(r.options,e.options)}render(){let{graphRef:e}=this;return(0,o.tZ)("div",{ref:e,className:"yozora-code-renderer-graphviz"})}componentDidMount(){this.renderGraphviz()}componentDidUpdate(e){let r=this.props;(r.code!==e.code||r.options!==e.options||r.engine!==e.engine)&&this.renderGraphviz()}async renderGraphviz(){let{graphRef:e,onError:r}=this,{code:n,engine:o="dot",options:t}=this.props;if(null!=e.current)try{(0,i.f)(e.current,{fit:!0,zoom:!1,useWorker:!1,...t}).onerror(r).engine(o).renderDot(n)}catch(e){var p,s,d;null==r||r(null!==(d=null!==(s=null!==(p=null==e?void 0:e.stack)&&void 0!==p?p:null==e?void 0:e.message)&&void 0!==s?s:e)&&void 0!==d?d:"Unexpected error occurred!")}}constructor(e){super(e),this.onError=e=>{var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e)},this.graphRef={current:null}}};GraphvizRenderer.displayName="GraphvizRenderer",GraphvizRenderer.propTypes={code:s().string.isRequired,engine:s().oneOf(["circo","dot","fdp","neato","osage","patchwork","twopi"]),options:s().any,onError:s().func},r.default=GraphvizRenderer}}]);