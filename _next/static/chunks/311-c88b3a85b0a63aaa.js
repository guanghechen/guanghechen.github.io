(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{23871:function(e,t,o){"use strict";o.d(t,{ql:function(){return r},Ee:function(){return s},rU:function(){return m},BD:function(){return c},yj:function(){return g}});var i=o(9008);let r=o.n(i)();var a=o(25675),n=o.n(a),l=o(67294);class s extends l.PureComponent{render(){return l.createElement(n(),this.props)}}let c=[{regex:/^@kyokuya\/_demo\/([\s\S]+)$/,importFunc:e=>()=>o(74243)("./".concat(e[1]))}];var d=o(11163);let g=()=>{let{asPath:e}=(0,d.useRouter)();return l.useMemo(()=>{var t;let o=null!==(t=e.split("#")[1])&&void 0!==t?t:null;return{path:e,hash:o}},[e])};var p=o(41664),h=o.n(p);class m extends l.PureComponent{render(){return l.createElement(h(),{...this.props,legacyBehavior:!1})}}},19345:function(e,t,o){"use strict";o.d(t,{DV:function(){return c},TS:function(){return h},Tl:function(){return y}});var i=o(35944),r=o(18872),a=o(99765),n=o(23871),l=o(93101),s=o(67294);let c=e=>{let t=(0,a.mY)(e=>e.author$);return(0,i.tZ)(n.rU,{className:(0,r.cx)(d.container,e.className),href:t.about,title:"about",onClick:l.UW,children:(0,i.tZ)(n.Ee,{alt:"avatar",src:t.avatar})})},d={container:(0,r.iv)({display:"inline-block",boxSizing:"border-box",transition:"all 0.3s",padding:0,borderRadius:"50%",margin:0,overflow:"hidden",textAlign:"center",userSelect:"none","&&:hover":{transform:"scale(1.1) rotate(360deg)"},"&>img":{boxSizing:"border-box",display:"inline-block",width:"100%",height:"100%"}})};var g=o(45697),p=o.n(g);let h=e=>{let t=(0,a.mY)(e=>e.title$),o=(0,a.mY)(e=>e.description$),r=(0,a.mY)(e=>e.author$),{description:n=o,title:l}=e;return(0,i.tZ)(m,{title:l,siteTitle:t,description:n,authorName:r.name})};h.propTypes={title:p().string.isRequired,description:p().string};class m extends s.PureComponent{render(){let{title:e,siteTitle:t,authorName:o,description:r}=this.props;return(0,i.BX)(n.ql,{children:[(0,i.BX)("title",{children:[e," | ",t]}),(0,i.tZ)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"},"viewport"),(0,i.tZ)("meta",{name:"author",content:o},"author"),(0,i.tZ)("meta",{name:"description",content:r},"description"),(0,i.tZ)("meta",{property:"og:title",content:e},"og:title"),(0,i.tZ)("meta",{property:"og:description",content:r},"og:description"),(0,i.tZ)("meta",{property:"og:type",content:"website"},"og:type")]})}}m.displayName="$SeoPageDescription",m.propTypes={title:p().string.isRequired,siteTitle:p().string.isRequired,authorName:p().string.isRequired,description:p().string.isRequired};var u=o(48734),v=o(96044),b=o(14651),f=o(24366);let y=e=>{let t=(0,a.O5)(),o=(0,a.mY)(e=>e.theme$)===v.Q2.darken,n=(0,u.$0)(e=>{e.stopPropagation(),t({type:a.Jx.TOGGLE_THEME,payload:o?v.Q2.light:v.Q2.darken})}),l=o?f.Z:b.Z;return(0,i.tZ)("div",{className:(0,r.cx)(x.container,e.className),children:(0,i.tZ)(l,{className:x.icon,onClick:n})})};y.propTypes={className:p().string};let x={container:(0,r.iv)({cursor:"pointer"}),icon:(0,r.iv)({height:24,width:24,color:"hsl(55deg, 40%, 60%)"})}},19692:function(e,t,o){"use strict";o.d(t,{A2:function(){return oa},s6:function(){return on}});let i="2023-06-11";(s=d||(d={})).SEARCH="search",s.REFRESH_STATIC_DATA="refresh_static_data",s.ACTIVE_MAGIC_PANEL="active_magic_panel",s.TOGGLE_MAGIC_PANEL="toggle_magic_panel",s.TOGGLE_SEARCHING_TAGS="toggle_searching_tags",s.ACTIVE_TOC="active_toc",(c=g||(g={})).PROFILE="profile",c.NAVIGATION="navigation",c.SEARCH="search",c.ABOUT_ME="about-me";var r,a,n,l,s,c,d,g,p,h,m,u,v,b,f,y,x,B,T,P,A,k,S,N=o(58910),_=o(67294);let I=_.createContext(null);I.displayName="PostContextType";let C=()=>_.useContext(I),Z=()=>_.useContext(I).dispatch,w=e=>{let t=e(_.useContext(I));return(0,N.vc)(t)};class M{search(e){let t=this.viewmodel;t.searchingKeyword$.next(e),t.magicPanelVisible$.next(!0),t.magicPanelActivated$.next(g.SEARCH)}refreshStaticData(e,t){let o=this.viewmodel;o.tags$.next(e),o.posts$.next(t)}activeMagicPanel(e){let t=this.viewmodel;t.magicPanelVisible$.next(!0),t.magicPanelActivated$.next(e)}toggleMagicPanel(e){this.viewmodel.magicPanelVisible$.setState(t=>null!=e?e:!t)}toggleSearchingTags(e){this.viewmodel.searchingTagsVisible$.setState(t=>null!=e?e:!t)}activeToc(e){this.viewmodel.tocActivated$.next(e)}constructor(e){this.viewmodel=e.viewmodel}}var F=o(35944),R=o(24142),E=o(48734),L=o(23871),H=o(93101),z=o(51150);let D={tags:[],posts:[],searchingKeyword:"",searchingTagsVisible:!1,magicPanelVisible:!1,magicPanelActivated:g.NAVIGATION,tocActivated:void 0};var O=o(73935);class $ extends N.jz{constructor(e){super(),this.getSnapshot=()=>({tags:this.tags$.getSnapshot(),posts:this.posts$.getSnapshot(),searchingKeyword:this.searchingKeyword$.getSnapshot(),searchingTagsVisible:this.searchingTagsVisible$.getSnapshot(),magicPanelVisible:this.magicPanelVisible$.getSnapshot(),magicPanelActivated:this.magicPanelActivated$.getSnapshot(),tocActivated:this.tocActivated$.getSnapshot()}),this.dispatch=e=>{let t=G[e.type];t?(0,O.unstable_batchedUpdates)(()=>{t(this._controller,e)}):console.error(this.constructor.name,"Unhandled action:",e)},this.tags$=new N.ZM(e.tags.slice()),this.posts$=new N.ZM(e.posts.slice()),this.searchingKeyword$=new N.ZM(e.searchingKeyword),this.searchingTagsVisible$=new N.ZM(e.searchingTagsVisible),this.magicPanelVisible$=new N.ZM(e.magicPanelVisible),this.magicPanelActivated$=new N.ZM(e.magicPanelActivated),this.tocActivated$=new N.ZM(e.tocActivated),this._controller=new M({viewmodel:this})}}let G={[d.SEARCH]:(e,t)=>{let{keyword:o}=t.payload;e.search(o)},[d.REFRESH_STATIC_DATA]:(e,t)=>{let{tags:o,posts:i}=t.payload;e.refreshStaticData(o,i)},[d.ACTIVE_MAGIC_PANEL]:(e,t)=>{let{pivotType:o}=t.payload;e.activeMagicPanel(o)},[d.TOGGLE_MAGIC_PANEL]:(e,t)=>{let o=t.payload;e.toggleMagicPanel(o)},[d.TOGGLE_SEARCHING_TAGS]:(e,t)=>{let o=t.payload;e.toggleSearchingTags(o)},[d.ACTIVE_TOC]:(e,t)=>{let o=t.payload;e.activeToc(o)}},V=(0,z.U)({displayName:"PersistentPostContextProvider",version:i,disposeWhenUnmounted:!0,Provider:I.Provider,Persistent:e=>{let{viewmodel:t,storage:o,storageKey:r}=e,a=(0,N.sD)(t,["searchingKeyword$","searchingTagsVisible$","magicPanelActivated$"]),n=_.useMemo(()=>(0,R.P2)(()=>{let e={version:i,data:{searchingKeyword:t.searchingKeyword$.getSnapshot(),searchingTagsVisible:t.searchingTagsVisible$.getSnapshot(),magicPanelActivated:t.magicPanelActivated$.getSnapshot()}};return H.kg.log("[react-layout-post] saving ".concat(r,". data:"),e),o.save(e)},100),[t,o,r]);return _.useEffect(()=>void n(),[n,a]),(0,E.i7)(()=>n.flushSync(),!1),(0,F.tZ)(_.Fragment,{})},SideEffect:e=>{let{viewmodel:t}=e,{path:o,hash:i}=(0,L.yj)();return _.useLayoutEffect(()=>t.tocActivated$.next(void 0),[o,t]),_.useLayoutEffect(()=>{if(i){let e=document.getElementById(i);e&&(t.tocActivated$.next(i),e.scrollIntoView())}},[i,t]),(0,F.tZ)(_.Fragment,{})},ViewModel:$,initContextState:function(e){var t,o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,r=null===(t=null!==(o=null==e?void 0:e.posts)&&void 0!==o?o:i.posts)||void 0===t?void 0:t.slice(),a=Array.from(new Set(r.map(e=>e.tags).flat())).sort();return{...i,...e,posts:r,tags:a}}});var U=o(4878);let W=e=>(0,E.NY)(()=>{let t=[];return e.children.forEach(e=>(function e(o,i){var r;let a={depth:i,identifier:encodeURIComponent(o.identifier),title:(0,F.tZ)(U.Dm,{nodes:o.contents})};t.push(a),null===(r=o.children)||void 0===r||r.forEach(t=>e(t,i+1))})(e,1)),t},[e.children]),X=e=>{let t=Z();return _.useCallback(()=>{t({type:d.ACTIVE_MAGIC_PANEL,payload:{pivotType:e}})},[e,t])};var q=o(13027),j=o(99900),K=o(18872),Y=o(45697),Q=o.n(Y);(r=p||(p={})).fontFamilyCopyright="--post_fontFamilyCopyright",r.fontFamilyHeading="--post_fontFamilyHeading",r.paddingTag="--post_paddingTag",r.marginPostBlockNode="--post_marginPostBlockNode",r.sizeAvatar="--post_sizeAvatar",r.sizeBorderAvatar="--post_sizeBorderAvatar",r.sizeIconBtn="--post_sizeIconBtn",r.sizeMagicPanelWidth="--post_sizeMagicPanelWidth",r.sizeTocItemHeight="--post_sizeTocItemHeight",r.sizeTocBorder="--post_sizeTocBorder",(a=h||(h={})).colorBgLayout="--post_colorBgLayout",a.colorBgFab="--post_colorBgFab",a.colorBgFabHover="--post_colorBgFabHover",a.colorBgFrostedGlass="--post_colorBgFrostedGlass",a.colorBgIconGithub="--post_colorBgIconGithub",a.colorBgIconRss="--post_colorBgIconRss",a.colorBgMagicPanel="--post_colorBgMagicPanel",a.colorBgScrollbarThumb="--post_colorBgScrollbarThumb",a.colorBgSearchTags="--post_colorBgSearchTags",a.colorBgSelection="--post_colorBgSelection",a.colorBgSidebar="--post_colorBgSidebar",a.colorBgSidebarAvatar="--post_colorBgSidebarAvatar",a.colorBgSidebarHeader="--post_colorBgSidebarHeader",a.colorBgTag="--post_colorBgTag",a.colorBody="--post_colorBody",a.colorBorderPostHeading="--post_colorBorderPostHeading",a.colorBorderTag="--post_colorBorderTag",a.colorBorderTocItem="--post_colorBorderTocItem",a.colorCaretSearchInput="--post_colorCaretSearchInput",a.colorDate="--post_colorDate",a.colorIconGithub="--post_colorIconGithub",a.colorIconRss="--post_colorIconRss",a.colorLink="--post_colorLink",a.colorLinkActive="--post_colorLinkActive",a.colorLinkHover="--post_colorLinkHover",a.colorLinkVisited="--post_colorLinkVisited",a.colorLinkUnderline="--post_colorLinkUnderline",a.colorMagicPanel="--post_colorMagicPanel",a.colorPostMath="--post_colorPostMath",a.colorNavDelimiter="--post_colorNavDelimiter",a.colorNavItem="--post_colorNavItem",a.colorNavItemActive="--post_colorNavItemActive",a.colorNavItemHover="--post_colorNavItemHover",a.colorPostBody="--post_colorPostBody",a.colorPostHeading="--post_colorPostHeading",a.colorPostTitle="--post_colorPostTitle",a.colorPostTitleActive="--post_colorPostTitleActive",a.colorPostTitleHover="--post_colorPostTitleHover",a.colorPostTitleVisited="--post_colorPostTitleVisited",a.colorSearchInput="--post_colorSearchInput",a.colorTag="--post_colorTag",(n=m||(m={})).colorBgFab="var(--post_colorBgFab)",n.colorBgFabHover="var(--post_colorBgFabHover)",n.colorBgFrostedGlass="var(--post_colorBgFrostedGlass)",n.colorBgIconGithub="var(--post_colorBgIconGithub)",n.colorBgIconRss="var(--post_colorBgIconRss)",n.colorBgLayout="var(--post_colorBgLayout)",n.colorBgMagicPanel="var(--post_colorBgMagicPanel)",n.colorBgScrollbarThumb="var(--post_colorBgScrollbarThumb)",n.colorBgSearchTags="var(--post_colorBgSearchTags)",n.colorBgSelection="var(--post_colorBgSelection)",n.colorBgSidebar="var(--post_colorBgSidebar)",n.colorBgSidebarAvatar="var(--post_colorBgSidebarAvatar)",n.colorBgSidebarHeader="var(--post_colorBgSidebarHeader)",n.colorBgTag="var(--post_colorBgTag)",n.colorBody="var(--post_colorBody)",n.colorBorderPostHeading="var(--post_colorBorderPostHeading)",n.colorBorderTag="var(--post_colorBorderTag)",n.colorBorderTocItem="var(--post_colorBorderTocItem)",n.colorCaretSearchInput="var(--post_colorCaretSearchInput)",n.colorDate="var(--post_colorDate)",n.colorIconGithub="var(--post_colorIconGithub)",n.colorIconRss="var(--post_colorIconRss)",n.colorLink="var(--post_colorLink)",n.colorLinkActive="var(--post_colorLinkActive)",n.colorLinkHover="var(--post_colorLinkHover)",n.colorLinkVisited="var(--post_colorLinkVisited)",n.colorLinkUnderline="var(--post_colorLinkUnderline)",n.colorMagicPanel="var(--post_colorMagicPanel)",n.colorPostMath="var(--post_colorPostMath)",n.colorNavDelimiter="var(--post_colorNavDelimiter)",n.colorNavItem="var(--post_colorNavItem)",n.colorNavItemActive="var(--post_colorNavItemActive)",n.colorNavItemHover="var(--post_colorNavItemHover)",n.colorPostBody="var(--post_colorPostBody)",n.colorPostHeading="var(--post_colorPostHeading)",n.colorPostTitle="var(--post_colorPostTitle)",n.colorPostTitleActive="var(--post_colorPostTitleActive)",n.colorPostTitleHover="var(--post_colorPostTitleHover)",n.colorPostTitleVisited="var(--post_colorPostTitleVisited)",n.colorSearchInput="var(--post_colorSearchInput)",n.colorTag="var(--post_colorTag)",n.fontFamilyHeading="var(--post_fontFamilyHeading)",n.fontFamilyCopyright="var(--post_fontFamilyCopyright)",n.paddingTag="var(--post_paddingTag)",n.marginPostBlockNode="var(--post_marginPostBlockNode)",n.sizeAvatar="var(--post_sizeAvatar)",n.sizeBorderAvatar="var(--post_sizeBorderAvatar)",n.sizeIconBtn="var(--post_sizeIconBtn)",n.sizeMagicPanelWidth="var(--post_sizeMagicPanelWidth)",n.sizeTocItemHeight="var(--post_sizeTocItemHeight)",n.sizeTocBorder="var(--post_sizeTocBorder)";var J=o(92299);let ee={link:(0,K.iv)({padding:"0.2rem 0",color:J.TV.colorLink,textDecoration:"none",background:"linear-gradient(90deg, hsla(358deg, 100%, 62%, 0.8), hsla(048deg, 100%, 50%, 0.8), hsla(196deg, 100%, 53%, 0.8))",backgroundSize:"0 3px",backgroundRepeat:"no-repeat",backgroundPosition:"50% 100%",transition:"all 0.3s ease-in-out","&:visited":{color:J.TV.colorLink},"&&:hover":{color:J.TV.colorLinkHover,backgroundSize:"100% 3px",backgroundPositionX:0}})};class et extends _.PureComponent{render(){let{children:e,className:t,url:o,rel:i="noopener,noreferrer",target:r="_blank",title:a,...n}=this.props;return(0,F.tZ)("a",{...n,className:(0,K.cx)(ee.link,t),href:o,title:a,target:r,rel:i,children:e})}}class eo extends _.PureComponent{render(){let{children:e,className:t,url:o,title:i,...r}=this.props;return(0,F.tZ)(L.rU,{...r,className:(0,K.cx)(ee.link,t),href:o,title:i,children:e})}}let ei={url:Q().string.isRequired,title:Q().string,children:Q().node,className:Q().string,rel:Q().string,style:Q().object,target:Q().string};class er extends _.PureComponent{render(){let{url:e,title:t,children:o}=this.props;return/^#/.test(e)?(0,F.tZ)("a",{title:t,href:e,children:o}):/^(\w+:[/]{2})/.test(e)?_.createElement(et,this.props):_.createElement(eo,this.props)}}er.propTypes=ei;class ea extends _.PureComponent{render(){let{current:e,totalPage:t,resolveUrl:o}=this.props,i=o(1),r=o(e-1),a=o(e+1),n=o(t),l=Math.max(1,e-3),s=Array.from({length:Math.min(t,e+3)-l+1},(e,t)=>l+t);return(0,F.BX)("ul",{className:en.pagination,children:[null!=r&&(0,F.BX)("li",{className:en.paginationItem,children:[(0,F.tZ)(er,{title:"first",url:i,onClick:H.UW,children:"\xab"}),(0,F.tZ)(er,{title:"prev",url:r,onClick:H.UW,children:"Prev"}),"\xa0\xa0"]},"prev"),s.map(t=>(0,F.tZ)("li",{className:(0,K.cx)(en.paginationItem,t===e&&en.paginationItemActive),children:(0,F.tZ)(er,{title:"page-".concat(t),url:o(t),onClick:H.UW,children:t})},t)),null!=a&&(0,F.BX)("li",{className:en.paginationItem,children:["\xa0\xa0",(0,F.tZ)(er,{title:"next",url:a,onClick:H.UW,children:"Next"}),(0,F.tZ)(er,{title:"last",url:n,onClick:H.UW,children:"\xbb"})]},"next")]})}}ea.displayName="Pagination",ea.propTypes={current:Q().number.isRequired,totalPage:Q().number.isRequired,resolveUrl:Q().func.isRequired};let en={pagination:(0,K.iv)({display:"flex",alignItems:"center",padding:"0",margin:"1rem 0",listStyle:"none",lineHeight:"2rem",userSelect:"none"}),paginationItem:(0,K.iv)({display:"inline-block",listStyle:"none",color:m.colorLink,fontSize:"1.2rem",a:{display:"inline-block",padding:"6px 8px",textDecoration:"none",verticalAlign:"middle","&:visited":{color:"inherit"},"&&:hover":{color:m.colorLinkHover,textDecoration:"none"}}}),paginationItemActive:(0,K.iv)({"&& a":{color:"hsl(270deg, 60%, 60%)"}})};var el=o(96044),es=o(82231);let ec=e=>{let t,o;let{alt:i,className:r,loading:a,src:n,srcSet:l,sizes:s,title:c,onClick:d}=e;if(n.startsWith("/"))try{let i=new URL("https://localhost".concat(e.src));t=Number(i.searchParams.get("width")),o=Number(i.searchParams.get("height"))}catch(e){console.log(e)}let g=t&&o?L.Ee:"img";return(0,F.BX)("figure",{className:r,children:[(0,F.tZ)(g,{alt:i,loading:a,src:n,srcSet:l,sizes:s,title:c,layout:"responsive",width:t,height:o,onClick:d}),c&&(0,F.tZ)("figcaption",{children:c})]})};class ed extends _.PureComponent{render(){let{url:e,title:t,children:o}=this.props;return(0,F.tZ)(er,{url:e,title:t,children:(0,F.tZ)(U.Dm,{nodes:o})})}}let eg=e=>{var t;let o=(0,U.QY)(e=>e.definitionMap$)[e.identifier],i=null!==(t=null==o?void 0:o.url)&&void 0!==t?t:"",r=null==o?void 0:o.title;return(0,F.tZ)(er,{url:i,title:r,children:(0,F.tZ)(U.Dm,{nodes:e.children})})};eg.displayName="KyokuyaLinkReference";let ep={[es.__]:e=>{let t=(0,U.YK)(),{url:o,alt:i,title:r,srcSet:a,sizes:n,loading:l}=e,s=_.useCallback(()=>{t({type:U.cz.ACTIVE_IMAGE,payload:{src:o,alt:i}})},[t,o,i]);return(0,F.tZ)(ec,{alt:i,className:"yozora-image",loading:l,src:o,srcSet:a,sizes:n,title:r,onClick:s})},[es.Ro]:e=>{var t;let o=(0,U.YK)(),i=(0,U.QY)(e=>e.definitionMap$),{alt:r,srcSet:a,sizes:n,loading:l}=e,s=i[e.identifier],c=null!==(t=null==s?void 0:s.url)&&void 0!==t?t:"",d=null==s?void 0:s.title,g=_.useCallback(()=>{o({type:U.cz.ACTIVE_IMAGE,payload:{src:c,alt:r}})},[o,c,r]);return(0,F.tZ)(ec,{alt:r,className:"yozora-image-reference yozora-image",loading:l,src:c,srcSet:a,sizes:n,title:d,onClick:g})},[es.Un]:ed,[es.DS]:eg};var eh=o(30285);let em=(0,F.tZ)(er,{url:"#footnote-definitions",children:(0,F.tZ)("span",{id:"footnote-definitions",children:"footnote-definitions"})});class eu extends _.PureComponent{render(){let{ast:e,footnoteDefinitionsTitle:t=em,dontNeedFootnoteDefinitions:o,className:i,style:r}=this.props;return(0,F.tZ)(eh.ZP,{ast:e,footnoteDefinitionsTitle:t,dontNeedFootnoteDefinitions:o,className:i,style:r})}}var ev=o(58657),eb=o(91426);let ef=(0,ev.ZP)(()=>Promise.all([o.e(574),o.e(14)]).then(o.bind(o,57014))),ey=(0,eb.kz)(ef);var ex=o(16829);let eB=(0,ev.ZP)(()=>Promise.resolve().then(o.bind(o,66180))),eT=(0,eb.F5)({presetJsxScope:{styled:ex.Z,React:_},rules:L.BD,JsxRenderer:eB,defaultRenderMode:"inline"}),eP=(0,eb._k)(eh.Yw),eA=(0,ev.ZP)(()=>o.e(285).then(o.t.bind(o,51285,23))),ek=e=>{let{ecmaImports:t,children:o,customRendererMap:i,codeRunners:r,ImageViewer:a=eA,...n}=e,l=function(e){let t=eT(e);return _.useMemo(()=>[{title:"jsx",pattern:/^jsx$/,runner:t},{title:"tsx",pattern:/^tsx$/,runner:t},{title:"graphviz",pattern:/^graphviz|dot$/,runner:ey},{title:"math",pattern:/^tex|latex|math|mathjax$/,runner:eP}],[t])}(t);return(0,F.tZ)(eh.yF,{...n,codeRunners:null!=r?r:l,customRendererMap:null!=i?i:ep,ImageViewer:a,children:o})};var eS=o(13175);(l=u||(u={})).POST_CONTENT="ghc_post_content",l.POST_CONTENT_HEADER="ghc_post_content_header",l.POST_CONTENT_MAIN="ghc_post_content_main",l.POST_LIST_ITEM="ghc_post_list_item",l.POST_MAGIC_PANEL="POST_MAGIC_PANEL",l.POST_MAIN="ghc_post_main",l.POST_SIDEBAR="ghc_post_sidebar",o(3822);class eN extends _.Component{shouldComponentUpdate(e){let t=this.props;return t.className!==e.className||!(0,q.X)(t.options,e.options)}render(){let{className:e}=this.props,{containerRef:t}=this;return(0,F.tZ)("div",{ref:t,className:"kyokuya-react-aplayer ".concat(e)})}componentDidMount(){let{containerRef:e}=this,{options:t}=this.props;if(null==e.current)return;let o=e.current;eI().then(e=>{this.destroy(),this.aplayerRef.current=new e({autoplay:!1,listFolded:!0,lrcType:3,preload:"metadata",theme:"#F57F17",...t,container:o})})}componentWillUnmount(){this.destroy()}destroy(){let e=this.aplayerRef.current;e&&(this.aplayerRef.current=void 0,e.destroy())}constructor(e){super(e),this.containerRef={current:null},this.aplayerRef={current:void 0}}}eN.displayName="ReactAPlayer",eN.propTypes={options:Q().object.isRequired,className:Q().string};let e_=null,eI=async()=>{if(null===e_){let{default:e}=await o.e(373).then(o.t.bind(o,89373,23));e_=e}return e_};class eC extends _.PureComponent{render(){let{title:e,titleAst:t,createdAt:o,timeToRead:i,tags:r,ast:a,dontNeedFootnoteDefinitions:n,slug:l,aplayerOptions:s,footer:c,className:d}=this.props;return(0,F.BX)("article",{className:(0,K.cx)(u.POST_CONTENT,eZ.container,d),children:[(0,F.BX)("header",{className:(0,K.cx)(u.POST_CONTENT_HEADER,eZ.header),children:[(0,F.tZ)(eh.Vl,{Element:"h1",className:eZ.title,itemProp:"headline",children:(0,F.tZ)(er,{title:e,url:l,itemProp:"url",children:(0,F.tZ)(U.Dm,{nodes:t.children})})}),(0,F.BX)("div",{className:eZ.subTitle,children:[(0,F.tZ)("div",{className:eZ.subTitleDate,children:(0,F.BX)("span",{itemProp:"datePublished",children:[o," • \xa0\uD83C\uDF7B\xa0",i," read"]})}),r.length>0&&(0,F.BX)("div",{className:eZ.subTitleTags,children:["\uD83D\uDD16\xa0",r.map(e=>(0,F.tZ)("span",{className:eZ.subTitleTag,onClick:t=>this.onClickTag(t,e),children:e},e))]})]})]}),!!s&&(0,F.tZ)(eN,{className:eZ.aplayer,options:s}),(0,F.tZ)("div",{className:eZ.clearfix}),(0,F.tZ)("main",{className:(0,K.cx)(u.POST_CONTENT_MAIN,eZ.main),children:(0,F.tZ)(eu,{ast:a,dontNeedFootnoteDefinitions:n})}),c&&(0,F.tZ)("footer",{className:eZ.footer,children:c})]})}onClickTag(e,t){e.stopPropagation(),this.props.onSearchKeyword("#"+t)}}eC.displayName="PostContent",eC.propTypes={title:Q().string.isRequired,titleAst:Q().any.isRequired,slug:Q().string.isRequired,createdAt:Q().string.isRequired,timeToRead:Q().string.isRequired,tags:Q().arrayOf(Q().string.isRequired).isRequired,ast:Q().any.isRequired,dontNeedFootnoteDefinitions:Q().bool,aplayerOptions:Q().any,footer:Q().any,className:Q().string,onSearchKeyword:Q().func.isRequired};let eZ={container:(0,K.iv)({position:"relative",overflow:"auto hidden",boxSizing:"border-box",padding:0,border:0,borderRadius:6,margin:0,backdropFilter:"saturate(120%) blur(3px)",backgroundColor:m.colorBgFrostedGlass,transition:"all 0.3s ease-in-out",["@media screen and ".concat(el.u3.smMinus)]:{borderRadius:0}}),header:(0,K.iv)({position:"relative",display:"inline-block",minWidth:"320px",padding:"1rem 1.5rem",borderLeft:"5px solid ".concat(m.colorBorderPostHeading),marginBottom:"0.5rem",textOverflow:"ellipsis",whiteSpace:"pre-wrap","&::before":{content:'""',position:"absolute",top:0,left:-5,height:"100%",width:"5px",backgroundSize:"cover"},["@media screen and ".concat(el.u3.smMinus)]:{display:"block",width:"100%",minWidth:"unset",padding:"1rem",borderColor:"transparent"}}),title:(0,K.iv)({margin:0,padding:0,fontSize:"1.8rem",fontWeight:400,"&&&&":{[J.Um.colorMath]:m.colorPostTitle,[J.Um.colorLink]:m.colorPostTitle,color:m.colorPostTitle},"&&&& > a":{padding:"0.2rem 0",color:m.colorPostTitle,textDecoration:"none",background:"linear-gradient(90deg, hsla(358deg, 100%, 62%, 0.8), hsla(048deg, 100%, 50%, 0.8), hsla(196deg, 100%, 53%, 0.8))",backgroundSize:"0px 3px",backgroundRepeat:"no-repeat",backgroundPosition:"50% 100%",transition:"all 0.3s ease-in-out","&:active":{color:m.colorPostTitleActive},"&:visited":{color:m.colorPostTitleVisited},"&&:hover":{color:m.colorPostTitleHover,backgroundSize:"100% 3px",backgroundPositionX:"0"}},["@media screen and ".concat(el.u3.smMinus)]:{fontSize:"1.6rem"}}),subTitle:(0,K.iv)({display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:"0.5rem",lineHeight:2,verticalAlign:"middle"}),subTitleDate:(0,K.iv)({marginRight:"2rem",color:"#808080",fontSize:"1rem",userSelect:"none"}),subTitleTags:(0,K.iv)({marginLeft:"1rem"}),subTitleTag:(0,K.iv)({display:"inline-block",padding:"0 0.4rem",border:"1px solid ".concat(m.colorBorderTag),borderRadius:4,marginRight:"0.5rem",lineHeight:1.6,fontSize:"0.8rem",color:m.colorTag,background:m.colorBgTag,cursor:"pointer",userSelect:"none",["@media screen and ".concat(el.u3.smMinus)]:{marginLeft:0}}),main:(0,K.iv)({boxSizing:"border-box",padding:"0rem 2rem",margin:0,["@media screen and ".concat(el.u3.smMinus)]:{padding:"0rem 1rem"}}),footer:(0,K.iv)({padding:"1rem 2rem",["@media screen and ".concat(el.u3.smMinus)]:{padding:"1rem"}}),aplayer:(0,K.iv)({float:"right",width:"312px",maxWidth:"100%",margin:0,["@media screen and ".concat(el.u3.smMinus)]:{float:"none",width:"100%",padding:"1rem auto",margin:"0 auto 2rem"}}),clearfix:(0,K.iv)({"&::after":{content:'""',display:"block",clear:"both"}})};var ew=o(77957),eM=o(59788),eF=o(89797);class eR extends _.PureComponent{render(){let{updatedAt:e,prev:t,next:o}=this.props;return(0,F.BX)(_.Fragment,{children:[(0,F.BX)("div",{className:eE.editTime,children:[(0,F.tZ)(ew.Z,{}),"\xa0",e]}),(0,F.BX)("div",{className:eE.pagination,children:[null!=t&&(0,F.tZ)("div",{className:(0,K.cx)(eE.neighbor,eE.prev),children:(0,F.BX)(er,{url:t.slug,children:[(0,F.tZ)(eM.Z,{}),(0,F.tZ)("span",{children:t.title})]})}),null!=o&&(0,F.tZ)("div",{className:(0,K.cx)(eE.neighbor,eE.next),children:(0,F.BX)(er,{url:o.slug,children:[(0,F.tZ)("span",{children:o.title}),(0,F.tZ)(eF.Z,{})]})})]})]})}}eR.displayName="PostContentFooter",eR.propTypes={};let eE={pagination:(0,K.iv)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginTop:"1rem"}),neighbor:(0,K.iv)({userSelect:"none",fontSize:"1.2rem",lineHeight:"2",maxWidth:"calc((100% - 5rem) / 2)","> a":{display:"inline-flex",alignItems:"center",maxWidth:"100%",textDecoration:"none",color:m.colorLink,"&&:hover":{color:m.colorLinkHover},"&:active":{color:m.colorLinkActive},"&:visited":{color:m.colorLink},"> span":{flex:"0 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"> svg":{flex:"0 0 auto"}}}),prev:(0,K.iv)({marginRight:"auto"}),next:(0,K.iv)({marginLeft:"auto"}),editTime:(0,K.iv)({display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",padding:"0",lineHeight:"2",color:"#808080"})};var eL=o(99765);class eH extends _.Component{render(){let{className:e}=this.props;return(0,F.BX)("section",{className:(0,K.cx)(ez.container,e),children:[(0,F.tZ)("header",{className:ez.header,children:(0,F.tZ)("h1",{className:ez.title,children:"Comments"})}),(0,F.tZ)("main",{ref:this.commentBoxRef,className:ez.main})]})}componentDidMount(){if(null==this.commentBoxRef.current)return;let e=this.props.theme;this.commentBoxRef.current.innerHTML="";let t=document.createElement("script");t.setAttribute("src","https://utteranc.es/client.js"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("async","true"),t.setAttribute("repo","guanghechen/guanghechen.github.io"),t.setAttribute("issue-term","pathname"),t.setAttribute("label","comment"),t.setAttribute("theme",e),this.commentBoxRef.current.appendChild(t)}componentDidUpdate(e){let t=e.theme,o=this.props.theme,i=this.commentBoxRef.current;if(o!==t&&i){var r;let e=i.querySelector(".utterances-frame");null==e||null===(r=e.contentWindow)||void 0===r||r.postMessage({type:"set-theme",theme:o},"https://utteranc.es")}}shouldComponentUpdate(e){return this.props.theme!==e.theme}constructor(e){super(e),this.commentBoxRef=_.createRef()}}eH.propTypes={theme:Q().string,className:Q().string};let ez={container:(0,K.iv)({display:"flex",flexDirection:"column",width:"100%",marginTop:"2rem",borderRadius:"6px"}),header:(0,K.iv)({padding:"1rem 1.5rem",borderBottom:"1px solid ".concat(m.colorBorderPostHeading),marginBottom:"0.5rem"}),title:(0,K.iv)({margin:"0",padding:"0",fontSize:"1.8rem",fontWeight:"400",paddingTop:"0.2rem",color:m.colorPostHeading,textDecoration:"none"}),main:(0,K.iv)({display:"block",padding:"0 1rem 1rem"})},eD=()=>{let e=(0,eL.mY)(e=>e.theme$),{path:t}=(0,L.yj)();return(0,F.tZ)(eH,{className:eO.comment,theme:e===el.Q2.light?"github-light":"github-dark"},t)},eO={comment:(0,K.iv)({backdropFilter:"saturate(120%) blur(3px)",backgroundColor:m.colorBgFrostedGlass,transition:"all 0.3s ease-in-out"})};var e$=o(19345);function eG(e,t){let{tocActivated$:o}=C();return _.useMemo(()=>{let i=t-5;return(0,R.Ds)(function(){let t=function(e,t){var o;let i=document.getElementsByClassName(e);for(let e=0;e<i.length;++e){let o=i[e];if(o.getBoundingClientRect().top>=t)return o}return null!==(o=i[i.length-1])&&void 0!==o?o:null}(e,i);"string"==typeof(null==t?void 0:t.id)&&o.next(t.id)})},[e,t,o])}let eV={[p.fontFamilyCopyright]:"'Andale Mono', 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif",[p.fontFamilyHeading]:"'Comic Sans MS', 'lucida grande', 'lucida sans unicode', lucida, 'Hiragino Sans GB', 'Helvetica Neue', 'Microsoft Yahei', 'WenQuanYi Micro Hei', sans-serif",[p.paddingTag]:"0 4px",[p.marginPostBlockNode]:"0 0 1em",[p.sizeAvatar]:"128px",[p.sizeBorderAvatar]:"5px",[p.sizeIconBtn]:"32px",[p.sizeMagicPanelWidth]:"300px",[p.sizeTocItemHeight]:"2rem",[p.sizeTocBorder]:"2px"},eU={[h.colorBgFab]:"#996677",[h.colorBgFabHover]:"#996677",[h.colorBgFrostedGlass]:"hsla(0deg,0%,0%,0.9)",[h.colorBgIconGithub]:"#04080d",[h.colorBgIconRss]:"#EE995F",[h.colorBgLayout]:"linear-gradient(200deg, hsla(0deg,0%,80%,0.2), hsla(0deg,0%,90%,0.2)),url(/asset/img/post/main-wallpaper.jpg)",[h.colorBgMagicPanel]:"linear-gradient(200deg, hsla(0deg,0%,0%,0.2), hsla(0deg,0%,0%,0.5)),url(/asset/img/balloon.jpeg)",[h.colorBgScrollbarThumb]:"linear-gradient(220deg, #3CA7DD, #DD8C3C)",[h.colorBgSearchTags]:"hsla(0deg, 0%, 100%, 0.2)",[h.colorBgSelection]:"hsla(0deg, 100%, 86%, 0.82)",[h.colorBgSidebar]:"linear-gradient(\n      90deg,\n      hsla(030deg, 92%, 58%, 0.01) 0,\n      hsla(010deg, 87%, 64%, 0.01) 15%,\n      hsla(343deg, 83%, 62%, 0.01) 30%,\n      hsla(291deg, 29%, 54%, 0.01) 44%,\n      hsla(220deg, 42%, 52%, 0.01) 58%,\n      hsla(188deg, 83%, 37%, 0.01) 72%,\n      hsla(172deg, 92%, 36%, 0.01) 86%,\n      hsla(136deg, 36%, 58%, 0.01) 100%\n    ),linear-gradient(0deg, hsla(0deg,0%,0%,0.9), hsla(0deg,0%,0%,0.9)),url(/asset/img/post/wallpaper.jpg)",[h.colorBgSidebarAvatar]:"linear-gradient(180deg,hsla(270deg,17%,5%,0.9),hsla(270deg,17%,5%,0))",[h.colorBgSidebarHeader]:"hsla(120deg, 8%, 10%, 0.8)",[h.colorBgTag]:"#BFBFBF",[h.colorBody]:"#B3B3B3",[h.colorBorderPostHeading]:"hsla(0deg, 0%, 30%, 0.8)",[h.colorBorderTag]:"#A6A6A6",[h.colorBorderTocItem]:"hsla(0deg,0%,100%,0.6)",[h.colorCaretSearchInput]:"#333333",[h.colorDate]:"#808080",[h.colorIconGithub]:"#e2eaf1",[h.colorIconRss]:"#FFFFFF",[h.colorLink]:"#4D77A6",[h.colorLinkActive]:"#4799EB",[h.colorLinkHover]:"#85B2E0",[h.colorLinkVisited]:"#4D77A6",[h.colorLinkUnderline]:"linear-gradient(90deg, hsla(30deg,70%,70%,0.5), hsla(30deg,90%,75%,0.5))",[h.colorMagicPanel]:"#FFFFFF",[h.colorPostMath]:"#BFBFBF",[h.colorNavDelimiter]:"hsl(0deg,0%,50%)",[h.colorNavItem]:"hsl(0deg,0%,95%)",[h.colorNavItemActive]:"hsl(30deg,90%,50%)",[h.colorNavItemHover]:"hsl(30deg,90%,60%)",[h.colorPostBody]:"#999999",[h.colorPostHeading]:"#A6A6A6",[h.colorPostTitle]:"#B3B3B3",[h.colorPostTitleActive]:"#B3B3B3",[h.colorPostTitleHover]:"#999999",[h.colorPostTitleVisited]:"#B3B3B3",[h.colorSearchInput]:"#ffffff",[h.colorTag]:"#B6280C"},eW={[h.colorBgFab]:"#D98CA6",[h.colorBgFabHover]:"#D98CA6",[h.colorBgFrostedGlass]:"hsla(0deg,0%,100%,0.9)",[h.colorBgIconGithub]:"#FFFFFF",[h.colorBgIconRss]:"#EE995F",[h.colorBgLayout]:"linear-gradient(200deg, hsla(0deg,0%,80%,0.2), hsla(0deg,0%,90%,0.2)),url(/asset/img/post/main-wallpaper.jpg)",[h.colorBgMagicPanel]:"linear-gradient(200deg, hsla(0deg,0%,90%,0.3), hsla(0deg,0%,90%,0.3)),url(/asset/img/balloon.jpeg)",[h.colorBgScrollbarThumb]:"linear-gradient(220deg, #3CA7DD, #DD8C3C)",[h.colorBgSearchTags]:"hsla(0deg, 0%, 100%, 0.2)",[h.colorBgSelection]:"hsla(0deg, 100%, 86%, 0.82)",[h.colorBgSidebar]:"linear-gradient(0deg, hsla(0deg,0%,100%,0.9), hsla(0deg,0%,100%,0.9)),linear-gradient(\n      90deg,\n      hsla(030deg, 92%, 58%, 0.05) 0,\n      hsla(010deg, 87%, 64%, 0.05) 15%,\n      hsla(343deg, 83%, 62%, 0.05) 30%,\n      hsla(291deg, 29%, 54%, 0.05) 44%,\n      hsla(220deg, 42%, 52%, 0.05) 58%,\n      hsla(188deg, 83%, 37%, 0.05) 72%,\n      hsla(172deg, 92%, 36%, 0.05) 86%,\n      hsla(136deg, 36%, 58%, 0.05) 100%\n    ),url(/asset/img/post/wallpaper.jpg)",[h.colorBgSidebarAvatar]:"linear-gradient(180deg,#EDECEF,#EDECEF)",[h.colorBgSidebarHeader]:"hsla(120deg, 8%, 10%, 0.8)",[h.colorBgTag]:"#F2F2F2",[h.colorBody]:"#4D4D4D",[h.colorBorderPostHeading]:"#CCCCCC",[h.colorBorderTag]:"#A6A6A6",[h.colorBorderTocItem]:"hsla(0deg,0%,60%,0.7)",[h.colorCaretSearchInput]:"#333333",[h.colorDate]:"#808080",[h.colorIconGithub]:"#3E4441",[h.colorIconRss]:"#FFFFFF",[h.colorLink]:"#4D7FB3",[h.colorLinkActive]:"#4799EB",[h.colorLinkHover]:"#85B2E0",[h.colorLinkVisited]:"#4D7FB3",[h.colorLinkUnderline]:"linear-gradient(90deg,#E8B37D,#F9BF86)",[h.colorMagicPanel]:"#FFFFFF",[h.colorPostMath]:"#003399",[h.colorNavDelimiter]:"#333333",[h.colorNavItem]:"#4D4D4D",[h.colorNavItemActive]:"#808080",[h.colorNavItemHover]:"#666666",[h.colorPostBody]:"#4D4D4D",[h.colorPostHeading]:"#404040",[h.colorPostTitle]:"#4D4D4D",[h.colorPostTitleActive]:"#4D4D4D",[h.colorPostTitleHover]:"#666666",[h.colorPostTitleVisited]:"#4D4D4D",[h.colorSearchInput]:"#ffffff",[h.colorTag]:"hsla(10deg,70%,50%,0.8)"},eX=null!==(v=null!=globalThis?globalThis:window)&&void 0!==v?v:{},eq=null!==(B=null!==(x=null!==(y=null!==(f=null!==(b=eX.requestAnimationFrame)&&void 0!==b?b:eX.webkitRequestAnimationFrame)&&void 0!==f?f:eX.mozRequestAnimationFrame)&&void 0!==y?y:eX.msRequestAnimationFrame)&&void 0!==x?x:eX.oRequestAnimationFrame)&&void 0!==B?B:function(e){return window.setTimeout(e,1e3/60)};null!==(S=null!==(k=null!==(A=null!==(P=null!==(T=eX.cancelAnimationFrame)&&void 0!==T?T:eX.webkitCancelAnimationFrame)&&void 0!==P?P:eX.mozCancelAnimationFrame)&&void 0!==A?A:eX.msCancelAnimationFrame)&&void 0!==k?k:eX.oCancelAnimationFrame)&&void 0!==S||eX.clearTimeout;let ej=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"static"===getComputedStyle(e).position&&(e.style.position="relative");let o=document.createElement("canvas");return o.width=e.clientWidth,o.height=e.clientHeight,Object.assign(o.style,{display:"block",position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","pointer-events":"none",opacity:.5,...t}),e.prepend(o),o};class eK{start(){this.running||(this.running=!0,this._requestFrame(this._drawAnimation))}stop(){this.running=!1}destroy(){var e;null!=this.timer&&cancelAnimationFrame(this.timer),window.removeEventListener("resize",this._onresize),null===(e=this.canvas.parentNode)||void 0===e||e.removeChild(this.canvas)}_requestFrame(e){this.running&&(this.timer=eq(e))}constructor(e){this.toggleVisibility=e=>{e?(this.canvas.style.display="block",this.canvas.style.visibility="visible",this.start()):(this.canvas.style.display="none",this.canvas.style.visibility="hidden",this.stop())},this._drawAnimation=()=>{this.draw(),this._requestFrame(this._drawAnimation)},this._onresize=()=>{let{canvas:e,container:t}=this;e.width=t.clientWidth,e.height=t.clientHeight},this.container=e,this.canvas=ej(e),this.context=this.canvas.getContext("2d"),this.running=!1,this.timer=null,window.addEventListener("resize",this._onresize)}}class eY extends eK{draw(){let{context:e}=this,{width:t,height:o}=this.canvas,i=o/600,r=5e-4*i,a=5e-4*i,n=2*Math.PI;for(let i of(e.clearRect(0,0,t,o),this.bubbles))i.alpha<=0&&this.initBubble(i,t,o),i.y-=i.velocity,i.alpha-=r,i.scale+=a,e.beginPath(),e.arc(i.x,i.y,10*i.scale,0,n,!1),e.fillStyle="rgba(255,255,255,"+i.alpha+")",e.fill()}createRandomBubbles(e){let{width:t,height:o}=this.canvas;return(0,H.w6)(e).map(()=>({x:Math.random()*t,y:o*(1-.4*Math.random()),alpha:.2*Math.random(),scale:.2*Math.random(),velocity:(0,H.MX)(.5,2)}))}initBubble(e,t,o){e.x=Math.random()*t,e.y=o+(0,H.MX)(-80,20),e.alpha=.3+.3*Math.random(),e.scale=.1+.3*Math.random(),e.velocity=(0,H.MX)(.5,2)}constructor(e,t={}){super(e);let{width:o,style:i}=this.canvas;i.zIndex="-1",this.bubbles=this.createRandomBubbles(Math.ceil(.6*o*Math.max(1,o/1366)))}}let eQ={},eJ=_.memo(e=>{let t=_.useRef(null);return!function(e,t,o){let i=!(arguments.length>3)||void 0===arguments[3]||arguments[3],[r,a]=_.useState(null);(0,E.KW)(()=>{if(null==e||null==e.current)return;let i=new t(e.current,o);return a(i),i.start(),()=>void i.destroy()},[e,o,t]),_.useEffect(()=>{null==r||r.toggleVisibility(i)},[r,i])}(t,eY,eQ,e.visible),(0,F.tZ)("div",{ref:t,className:e0.particleEffect})}),e0={particleEffect:(0,K.iv)({position:"absolute",top:0,left:0,zIndex:-1,width:"100%",height:"100%"})};var e1=o(50685),e3=o(58032);let e2=e=>{let t=Z(),o=_.useCallback(e=>{e.stopPropagation(),t({type:d.TOGGLE_MAGIC_PANEL})},[t]),{path:i}=(0,L.yj)();return _.useEffect(()=>{t({type:d.TOGGLE_MAGIC_PANEL,payload:!1})},[i,t]),(0,F.tZ)(e3.Z,{color:"primary",size:"medium",className:(0,K.cx)(e5.menuButton,e.className),"aria-label":"toggle menu",onClick:o,children:(0,F.tZ)(e1.Z,{fontSize:"large"})})},e5={menuButton:(0,K.iv)({zIndex:"2",position:"fixed",top:"unset",left:"unset",bottom:"48px",right:"24px",display:"none",visibility:"hidden",color:"hsl(0deg, 0%, 90%)",background:m.colorBgFab,transition:"all 0.3s ease-in-out","&&:hover":{background:m.colorBgFabHover},["@media screen and ".concat(el.u3.smMinus)]:{display:"flex",visibility:"visible"}})};class e8 extends _.PureComponent{render(){return(0,F.tZ)("i",{className:e4.delimiter})}}let e4={delimiter:(0,K.iv)({"&::before":{content:'"/"',padding:"0 0.5rem",color:m.colorNavDelimiter}})};class e6 extends _.PureComponent{render(){let{identifier:e,title:t,activated:o}=this.props;return(0,F.tZ)("span",{role:"menuitem",className:(0,K.cx)(e9.item,o&&e9.itemActivated),children:(0,F.tZ)(er,{url:e,children:t})})}}let e9={item:(0,K.iv)({"&&":{cursor:"pointer",color:m.colorNavItem,a:{color:"inherit !important",textDecoration:"none",background:"none"},"&&:hover":{color:m.colorNavItemHover},"&:active":{color:m.colorNavItemActive}}}),itemActivated:(0,K.iv)({"&&":{color:m.colorNavItemActive}})},e7=e=>{let{identifier:t,title:o,activated:i}=e,r=X(t);return(0,F.tZ)("span",{role:"menuitem",className:(0,K.cx)(te.item,i&&te.itemActivated),onClick:r,children:o})},te={item:(0,K.iv)({"&&":{cursor:"pointer",color:m.colorNavItem,a:{color:"inherit !important",textDecoration:"none",background:"none"},"&&:hover":{color:m.colorNavItemHover},"&:active":{color:m.colorNavItemActive}}}),itemActivated:(0,K.iv)({"&&":{color:m.colorNavItemActive}})};class tt extends _.PureComponent{render(){let{paginationUrl:e,className:t}=this.props;return(0,F.BX)("nav",{role:"menu",className:(0,K.cx)(to.container,t),onClick:H.UW,children:[e&&(0,F.BX)(_.Fragment,{children:[this.renderLinkItem(e,"文章"),(0,F.tZ)(e8,{},"delimiter-1")]}),this.renderPivotItem(g.NAVIGATION,"目录"),(0,F.tZ)(e8,{},"delimiter-2"),this.renderPivotItem(g.SEARCH,"检索"),(0,F.tZ)(e8,{},"delimiter-3"),this.renderPivotItem(g.ABOUT_ME,"关于我")]})}renderLinkItem(e,t){return(0,F.tZ)(e6,{identifier:e,title:t,activated:this.isActivated(e)},e)}renderPivotItem(e,t){return(0,F.tZ)(e7,{identifier:e,title:t,activated:this.isActivated(e)},e)}isActivated(e){let{magicPanelVisible:t,magicPanelActivated:o}=this.props;return t&&e===o}}tt.displayName="Nav",tt.propTypes={magicPanelVisible:Q().bool.isRequired,magicPanelActivated:Q().string.isRequired,paginationUrl:Q().string};let to={container:(0,K.iv)({display:"flex",alignItems:"center",fontSize:"1rem",fontFamily:m.fontFamilyHeading,userSelect:"none",["@media screen and ".concat(el.u3.smMinus)]:{marginTop:0,marginBottom:"1rem"}})};class ti extends _.PureComponent{render(){let{activatedPivot:e}=this.props;return(0,F.tZ)("header",{className:tr.header,children:(0,F.tZ)(tt,{magicPanelVisible:!0,magicPanelActivated:e})})}}ti.displayName="MagicPanelHeader",ti.propTypes={activatedPivot:Q().string.isRequired};let tr={header:(0,K.iv)({flex:"0 0 0",display:"none",visibility:"hidden",["@media screen and ".concat(el.u3.smMinus)]:{flex:"0 0 4rem",display:"flex",justifyContent:"center",alignItems:"center",visibility:"visible"}})};var ta=o(77314);class tn extends _.PureComponent{render(){let{className:e}=this.props;return(0,F.tZ)("div",{className:(0,K.cx)(tl.container,e),children:(0,F.BX)("div",{className:tl.content,children:["光和尘，",(0,F.tZ)("br",{}),"三岁零几百个月的见习魔法师。",(0,F.tZ)("br",{}),(0,F.tZ)("br",{}),(0,F.tZ)("br",{}),(0,F.tZ)("br",{}),"欲买桂花同载酒，",(0,F.tZ)("br",{}),"终不似，少年游。",(0,F.tZ)("br",{}),(0,F.tZ)("p",{className:tl.mottoAuthor,children:"—— 鲁迅《想喝桂花酒了》"})]})})}}tn.displayName="AboutMePivot",tn.propTypes={className:Q().string};let tl={container:(0,K.iv)({position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",paddingBottom:"20%",userSelect:"none"}),content:(0,K.iv)({maxWidth:"88%",lineHeight:"1.8",fontSize:"16px",letterSpacing:"2px",color:"#fff",textShadow:"1px 1px 2px hsla(240deg, 60%, 30%, 0.45)"}),mottoAuthor:(0,K.iv)({margin:0,fontSize:"0.9em",textAlign:"end"})};class ts extends _.PureComponent{render(){let{node:e,activated:t}=this.props,{setToActive:o}=this;return(0,F.tZ)("li",{style:{paddingLeft:e.depth+"rem"},className:(0,K.cx)(tc.item,t&&tc.itemActive),children:(0,F.tZ)("a",{href:"#"+e.identifier,onClick:o,children:e.title})},e.identifier)}constructor(...e){super(...e),this.setToActive=()=>{let{index:e,changeActivatedItem:t}=this.props;t(e)}}}let tc={item:(0,K.iv)({height:m.sizeTocItemHeight,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",padding:"0",margin:"0",lineHeight:m.sizeTocItemHeight,listStyle:"none","&& a":{color:m.colorLink,textDecoration:"none",background:m.colorLinkUnderline,backgroundSize:"0 3px",backgroundRepeat:"no-repeat",backgroundPosition:"50% 100%",transition:"all 0.3s ease-in-out","&.yozora-math, &.yozora-inline-math":{color:"inherit"},"&&:hover":{color:m.colorLinkHover,fontSize:"1.05rem",backgroundSize:"100% 3px",backgroundPositionX:"0"}}}),itemActive:(0,K.iv)({"&&& a":{fontSize:"1.05rem",color:m.colorLinkActive}})};class td extends _.Component{render(){let{nodes:e}=this.props,{activatedIndex:t}=this.state,{changeActivatedItem:o}=this;return(0,F.BX)("nav",{className:tg.container,children:[(0,F.tZ)("ul",{className:tg.list,children:e.map((e,i)=>(0,F.tZ)(ts,{node:e,activated:i===t,index:i,changeActivatedItem:o},e.identifier))}),(0,F.tZ)("span",{className:tg.marker,style:{top:2*t+"rem"}})]})}shouldComponentUpdate(e,t){let o=this.props;return this.state.activatedIndex!==t.activatedIndex||o.nodes!==e.nodes||o.tocActivated!==e.tocActivated}componentDidUpdate(e){let{tocActivated:t,nodes:o}=this.props;if(t!==e.tocActivated||o!==e.nodes){let e="string"==typeof t?o.findIndex(e=>e.identifier===t):0;this.setState({activatedIndex:e})}}constructor(e){super(e),this.changeActivatedItem=e=>{this.setState({activatedIndex:e})},this.state={activatedIndex:0}}}td.displayName="Toc",td.propTypes={nodes:Q().array.isRequired,tocActivated:Q().string};let tg={container:(0,K.iv)({position:"relative",boxSizing:"border-box",borderLeft:"".concat(m.sizeTocBorder," solid ").concat(m.colorBorderTocItem),userSelect:"none"}),list:(0,K.iv)({display:"block",padding:0,margin:0,listStyle:"none",color:"#ffffff"}),marker:(0,K.iv)({position:"absolute",top:0,left:"calc(".concat(m.sizeTocBorder," * -1)"),display:"inline-block",boxSizing:"content-box",height:m.sizeTocItemHeight,width:m.sizeTocBorder,background:m.colorLinkActive,transition:"top 0.3s ease-in-out"})};class tp extends _.PureComponent{render(){let{nodes:e,tocActivated:t,className:o}=this.props;return e.length<=0?(0,F.tZ)("div",{className:(0,K.cx)(th.container,o)}):(0,F.tZ)("div",{className:(0,K.cx)(th.container,o),children:(0,F.tZ)("div",{className:th.nav,children:(0,F.tZ)(td,{nodes:e,tocActivated:t})})})}}tp.displayName="NavigationPivot",tp.propTypes={nodes:Q().array.isRequired,activatedIdentifier:Q().string,className:Q().string};let th={container:(0,K.iv)({display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:"100%"}),nav:(0,K.iv)({overflow:"auto",width:"100%",height:"100%",padding:"2rem 1rem",["@media screen and ".concat(el.u3.smMinus)]:{padding:"0 1rem 2rem"}})};var tm=o(41652),tu=o(58822),tv=o(90089),tb=o(93946);let tf=()=>{let e=Z(),t=w(e=>e.searchingKeyword$),[o,i]=_.useState(t),r=_.useMemo(()=>{let t=(0,R.Ds)(t=>{e({type:d.SEARCH,payload:{keyword:t}})},200);return e=>{i(e),t(e)}},[e]);_.useEffect(()=>{i(t)},[t]);let a=o.length<=0;return(0,F.tZ)(tv.Z,{className:ty.input,type:"input",value:o,placeholder:"Searching post...",autoFocus:!0,onChange:e=>r(e.target.value),endAdornment:(0,F.BX)(_.Fragment,{children:[(0,F.tZ)(tu.Z,{className:(0,K.cx)(!a&&"hidden")}),(0,F.tZ)(tb.Z,{className:(0,K.cx)(a&&"hidden"),onClick:()=>r(""),children:(0,F.tZ)(tm.Z,{})})]})})},ty={input:(0,K.iv)({"&&":{flex:"0 0 auto",margin:"1.5rem 1.2rem",height:"3rem",width:"calc(100% - 2.4rem)",color:m.colorSearchInput,caretColor:m.colorCaretSearchInput,["@media screen and ".concat(el.u3.smMinus)]:{margin:"0 1.2rem 1.5rem"}}})};var tx=o(74221),tB=o(94156);class tT extends _.PureComponent{render(){let{item:e}=this.props;return(0,F.BX)("li",{className:tP.item,children:[(0,F.tZ)(tB.Z,{title:e.title,placement:"top",arrow:!1,children:(0,F.BX)("div",{className:tP.header,children:[(0,F.tZ)(er,{className:tP.title,url:e.slug,itemProp:"url",children:e.title}),(0,F.tZ)("span",{className:tP.date,children:e.createdAt},"date")]})}),(0,F.BX)("div",{className:tP.content,children:["\uD83D\uDD16\xa0",e.tags.map(e=>(0,F.BX)("span",{className:tP.tag,onClick:()=>this._onSearchTag(e),children:["#",e]},e))]})]})}_onSearchTag(e){let{dispatch:t}=this.props;t({type:d.SEARCH,payload:{keyword:"#"+e}})}}let tP={item:(0,K.iv)({display:"flex",flexDirection:"column",minHeight:"4rem",padding:"0.8rem 1.2rem",borderTop:"1px solid ".concat(m.colorBorderTocItem),"&:first-child":{borderTop:"none"},"&&:hover":{background:"hsla(0deg, 0%, 100%, 0.2)"}}),header:(0,K.iv)({"&&":{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),title:(0,K.iv)({"&&":{display:"block",overflow:"hidden",textOverflow:"ellipsis",textDecoration:"none",whiteSpace:"nowrap",fontSize:"16px",lineHeight:"1.75",textShadow:"1px 1px hsla(0deg, 0%, 30%, 0.25)",color:"#fff","&&:hover":{color:m.colorLinkHover},"&:visited":{color:"#fff"}}}),date:(0,K.iv)({display:"inline-block",fontSize:"12px",marginLeft:"12px",color:m.colorDate,userSelect:"none"}),content:(0,K.iv)({display:"flex",flexWrap:"wrap",alignItems:"center",fontSize:"14px",userSelect:"none"}),tag:(0,K.iv)({display:"inline-block",margin:"0 0.2rem",cursor:"pointer","&:hover":{color:m.colorLinkHover}})},tA=()=>{let e=Z(),t=w(e=>e.posts$),o=w(e=>e.searchingKeyword$),[i,r]=_.useState([]),a=(0,E.NY)(()=>{let e=t.map((e,t)=>({item:e,matches:[],score:1,refIndex:t})),o=new tx.Z(t,{includeScore:!0,findAllMatches:!0,threshold:.4,keys:["title","tags"]}),i=new tx.Z(t,{includeScore:!0,threshold:.4,keys:["tags"]});return t=>t.length<=0?e:"#"===t[0]?t.length<=0?e:i.search(t.slice(1)):o.search(t)},[t]);return _.useEffect(()=>{r(a(o))},[o,a]),(0,F.tZ)("ul",{className:tk.result,children:i.map(t=>{let{item:o}=t;return(0,F.tZ)(tT,{item:o,dispatch:e},o.slug)})})},tk={result:(0,K.iv)({listStyle:"none",margin:"0",padding:"0"})},tS=()=>{let e=Z(),t=w(e=>e.tags$),o=w(e=>e.searchingTagsVisible$),i=_.useCallback(t=>{e({type:d.SEARCH,payload:{keyword:"#"+t}})},[e]),r=_.useMemo(()=>t.map(e=>(0,F.tZ)("span",{className:tN.tag,onClick:t=>{t.stopPropagation(),i(e)},children:e},e)),[t,i]);return(0,F.tZ)("div",{className:(0,K.cx)(tN.tags,!o&&"hidden"),children:r})},tN={tags:(0,K.iv)({display:"flex",flexWrap:"wrap",width:"calc(100% - 1rem)",padding:"1rem 0 1rem 1rem",background:m.colorBgSearchTags}),tag:(0,K.iv)({display:"inline-block",padding:"0 0.4rem",border:"1px solid ".concat(m.colorBorderTag),borderRadius:"4px",margin:"0.2rem 0.5rem",lineHeight:"1.8",fontSize:"0.8rem",background:m.colorBgTag,color:m.colorTag,cursor:"pointer",userSelect:"none"})};var t_=o(45843);let tI=(0,o(69763).Z)({switchBase:{color:"#f6e1cc","&$checked":{color:"#eda090"},"&$checked + $track":{backgroundColor:"#eda090"}},checked:{},track:{}})(t_.Z),tC=()=>{let e=Z(),t=w(e=>e.searchingTagsVisible$),o=_.useCallback(()=>e({type:d.TOGGLE_SEARCHING_TAGS}),[e]);return(0,F.BX)("div",{className:tZ.tagsSwitch,children:[(0,F.tZ)("span",{onClick:o,children:"tags"}),(0,F.tZ)(tI,{checked:t,onChange:o})]})},tZ={tagsSwitch:(0,K.iv)({display:"flex",alignItems:"center",justifyContent:"flex-end",marginRight:8})};class tw extends _.PureComponent{render(){let{className:e}=this.props;return(0,F.BX)("div",{className:(0,K.cx)(tM.container,e),children:[(0,F.tZ)(tf,{}),(0,F.tZ)(tC,{}),(0,F.BX)("div",{className:tM.main,children:[(0,F.tZ)(tS,{}),(0,F.tZ)(tA,{})]})]})}}tw.displayName="SearchPivot",tw.propTypes={className:Q().string};let tM={container:(0,K.iv)({display:"flex",flexDirection:"column",width:"100%",height:"100%","::-webkit-search-cancel-button":{background:"#fff",color:"#fff"},".MuiInput-underline":{"&::after":{borderBottomColor:"hsla(0deg, 0%, 70%, 0.7)"}}}),main:(0,K.iv)({flex:"1 1 0",display:"block",overflow:"auto"})},tF=e=>{let{nodes:t}=e,o=Z(),i=w(e=>e.tocActivated$),r=tR.indexOf(w(e=>e.magicPanelActivated$)),a=_.useCallback(e=>{let t=tR[e];t&&o({type:d.ACTIVE_MAGIC_PANEL,payload:{pivotType:t}})},[o]);return(0,F.BX)(ta.ZP,{index:r<0?0:r,onChangeIndex:a,containerStyle:{height:"100%"},style:{height:"100%"},children:[(0,F.tZ)(tp,{nodes:t,tocActivated:i},"navigation"),(0,F.tZ)(tw,{},"search"),(0,F.tZ)(tn,{},"about-me")]})},tR=[g.NAVIGATION,g.SEARCH,g.ABOUT_ME];class tE extends _.PureComponent{render(){let{nodes:e}=this.props;return(0,F.tZ)("main",{className:tL.main,children:(0,F.tZ)(tF,{nodes:e})})}}tE.displayName="MagicPanelMain",tE.propTypes={nodes:Q().array.isRequired};let tL={main:(0,K.iv)({flex:"1 1 0",overflow:"auto"})},tH=e=>{let{nodes:t,className:o}=e,i=w(e=>e.magicPanelVisible$),r=w(e=>e.magicPanelActivated$);return(0,F.BX)("section",{className:(0,K.cx)(u.POST_MAGIC_PANEL,t$.magicPanel,i&&t$.magicPanelVisible,o),onClick:H.UW,children:[(0,F.tZ)(tz,{}),(0,F.tZ)(ti,{activatedPivot:r}),(0,F.tZ)(tE,{nodes:t})]})};tH.displayName="MagicPanel",tH.propTypes={nodes:Q().array.isRequired,className:Q().string};let tz=()=>{let e=w(e=>e.magicPanelVisible$),t=(0,eL.mY)(e=>e.screenWidth$);return(0,F.tZ)(eJ,{visible:e&&t<el.eq.sm})},tD=(0,K.F4)({"0%, 60%, 75%, 90%, to":{animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"},"0%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -1)")},"60%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * 0.05)")},"75%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -0.05)")},"90%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * 0.02)")},to:{marginLeft:0}}),tO=(0,K.F4)({"0%, 60%, 75%, 90%, to":{animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"},"0%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * 0.1)")},"60%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -0.9)")},"75%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -1.05)")},"90%":{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -0.98)")},to:{marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -1)")}}),t$={magicPanel:(0,K.iv)({[h.colorDate]:"hsla(0deg,0%,100%,0.7)",[h.colorLink]:"#FFFFFF",[h.colorLinkActive]:"hsl(30deg,90%,50%)",[h.colorLinkHover]:"hsl(30deg,90%,60%)",[h.colorLinkVisited]:"#FFFFFF",[J.Um.colorLink]:m.colorLink,[J.Um.colorLinkActive]:m.colorLinkActive,[J.Um.colorLinkHover]:m.colorLinkHover,[J.Um.colorLinkVisited]:m.colorLinkVisited,backdropFilter:"saturate(120%) blur(3px)",transition:"all 0.3s ease-in-out",flex:"0 1 auto",zIndex:-1,position:"sticky",top:0,overflowX:"hidden",display:"flex",flexDirection:"column",height:"100vh",width:m.sizeMagicPanelWidth,marginLeft:"calc(".concat(m.sizeMagicPanelWidth," * -1)"),color:m.colorMagicPanel,visibility:"hidden",animation:"".concat(tO," 0.8s both"),opacity:.2,"&::before":{content:'""',position:"absolute",top:0,left:0,zIndex:-1,height:"100%",width:"100%",backgroundImage:m.colorBgMagicPanel,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",opacity:.5},["@media screen and ".concat(el.u3.smMinus)]:{position:"fixed",top:0,left:0,zIndex:2,maxWidth:"80vw"}}),magicPanelVisible:(0,K.iv)({"&&":{zIndex:1,visibility:"visible",marginLeft:0,animation:"".concat(tD," 0.8s both"),opacity:1,"&::before":{opacity:.2},["@media screen and ".concat(el.u3.smMinus)]:{"&::before":{opacity:1}}}})},tG=e=>{let t=(0,eL.mY)(e=>e.author$),o=(0,eL.mY)(e=>e.copyright$),i=w(e=>e.magicPanelVisible$),{content:r,footer:a}=e;return(0,F.BX)("main",{className:(0,K.cx)(u.POST_MAIN,tV.container),children:[(0,F.BX)("section",{className:tV.content,children:[r,(0,F.BX)("footer",{className:tV.footer,children:[(0,F.BX)("span",{children:["\xa9 ",o.date," ",t.name]}),(0,F.tZ)("span",{children:t.motto})]}),a]}),(0,F.tZ)("div",{className:(0,K.cx)(tV.backdrop,!i&&"hidden")})]})};tG.propTypes={content:Q().node,footer:Q().node,className:Q().string};let tV={container:(0,K.iv)({position:"relative",flex:"1 1 auto",display:"flex",alignItems:"flex-start",justifyContent:"center",padding:"2rem",["@media screen and ".concat(el.u3.smMinus)]:{padding:0,flexDirection:"column-reverse",width:"100%"},["@media screen and ".concat(el.u3.lgPlus)]:{padding:"1rem"}}),content:(0,K.iv)({flex:"0 1 850px",width:"500px",minWidth:0,position:"relative",border:"1px solid transparent",["@media screen and ".concat(el.u3.smMinus)]:{maxWidth:"unset",width:"100%",borderTop:"none",marginRight:0}}),footer:(0,K.iv)({display:"flex",justifyContent:"space-between",width:"100%",padding:"1rem",lineHeight:2,color:"hsla(0deg, 0%, 85%, 0.8)",fontSize:"0.8rem",fontFamily:m.fontFamilyCopyright,textShadow:"0 1px #333"}),backdrop:(0,K.iv)({position:"absolute",top:0,bottom:0,left:0,right:0,display:"block",width:"100%",height:"100%",opacity:1,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"rgba(0, 0, 0, 0.5)",["@media screen and ".concat(el.u3.lgPlus)]:{display:"none"}})};var tU=o(81458);let tW=e=>{let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[o,i]=_.useState(0);return _.useEffect(()=>{let o=null===e?document.documentElement:e.current;if(null==o)return;let r=(0,R.Ds)(()=>{i(o.scrollTop/(o.scrollHeight-o.clientHeight))},t);r();let a=o===document.documentElement?window:o;return a.addEventListener("scroll",r),()=>a.removeEventListener("scroll",r)},[e,t]),o}((0,eL.mY)(e=>e.screenWidth$)<el.eq.sm?null:e.containerRef);return(0,F.tZ)(tU.Z,{className:tX.progress,role:"progressbar","aria-label":"Reading progress",color:"primary",variant:"determinate",value:100*t})},tX={progress:(0,K.iv)({"&&":{position:"fixed",zIndex:"2",top:"0",left:"0",right:"0",width:"100%"}})};var tq=o(87057),tj=o(525);class tK extends _.PureComponent{render(){let{author:e}=this.props;return(0,F.BX)("nav",{className:tY.contact,children:[(0,F.tZ)(er,{className:tY.item,url:e.github,title:"github",children:(0,F.tZ)(tq.ET,{})}),(0,F.tZ)(er,{className:tY.item,url:e.rss,title:"rss",children:(0,F.tZ)(tj.Z,{})})]})}}tK.displayName="SidebarContact",tK.propTypes={author:Q().object.isRequired};let tY={contact:(0,K.iv)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",padding:"1rem 0",marginTop:"2rem",["@media screen and ".concat(el.u3.smMinus)]:{marginTop:0}}),item:(0,K.iv)({display:"inline-block",height:m.sizeIconBtn,width:m.sizeIconBtn,padding:0,margin:"0 0.5rem",background:"none",transition:"all 0.3s","&&:hover":{transform:"scale(1.1) rotate(180deg)"},"> svg":{height:"100%",width:"100%",borderRadius:"50%"},'&[title="github"]':{"> svg":{color:m.colorIconGithub,background:m.colorBgIconGithub}},'&[title="rss"]':{"> svg":{color:m.colorIconRss,background:m.colorBgIconRss}}})};class tQ extends _.PureComponent{render(){let{author:e,openAboutMePivot:t}=this.props;return(0,F.BX)("header",{className:tJ.header,children:[(0,F.tZ)("div",{className:tJ.overlay}),(0,F.tZ)(e$.Tl,{className:tJ.themeToggle}),(0,F.tZ)(e$.DV,{className:tJ.avatar}),(0,F.tZ)("h1",{className:tJ.author,children:(0,F.tZ)("span",{onClick:t,children:e.name})}),(0,F.tZ)("p",{className:tJ.motto,children:e.motto})]})}}tQ.displayName="SidebarHeader",tQ.propTypes={author:Q().object.isRequired,openAboutMePivot:Q().func.isRequired};let tJ={header:(0,K.iv)({position:"relative",flex:"0 1 auto",display:"flex",flexDirection:"column",alignItems:"center",userSelect:"none"}),overlay:(0,K.iv)({height:"180px",width:"100%",background:m.colorBgSidebarHeader,["@media screen and ".concat(el.u3.smMinus)]:{height:"100px"}}),themeToggle:(0,K.iv)({position:"absolute",top:12,right:12,display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:48,padding:"0 12px",["@media screen and ".concat(el.u3.smMinus)]:{top:0}}),avatar:(0,K.iv)({boxSizing:"border-box",position:"relative",display:"inline-block",height:m.sizeAvatar,width:m.sizeAvatar,padding:0,border:"".concat(m.sizeBorderAvatar," solid transparent"),borderRadius:"50%",margin:"calc(".concat(m.sizeAvatar," / -2) auto 0"),backgroundImage:m.colorBgSidebarAvatar,backgroundClip:"border-box",color:"transparent",transition:"all 0.2s ease-in",textAlign:"center",overflow:"hidden",cursor:"pointer","&&:hover":{transform:"scale(1.1) rotate(360deg)"},"> img":{boxSizing:"border-box",display:"inline-block",width:"100%",height:"100%"}}),author:(0,K.iv)({margin:"1.4rem 0 1rem",color:"hsl(0deg, 0%, 28%)",fontWeight:400,fontSize:"2rem",fontFamily:m.fontFamilyHeading,cursor:"pointer",["@media screen and ".concat(el.u3.smMinus)]:{margin:"12px 0 8px",fontSize:"28px"}}),motto:(0,K.iv)({overflow:"hidden",textOverflow:"ellipsis",lineHeight:2,fontSize:"1rem",color:"hsl(0deg, 0%, 48%)",fontFamily:m.fontFamilyHeading,["@media screen and ".concat(el.u3.smMinus)]:{fontSize:"14px"}})},t0=e=>{let t=(0,eL.mY)(e=>e.author$),o=w(e=>e.magicPanelVisible$),i=w(e=>e.magicPanelActivated$),r=X(g.ABOUT_ME);return(0,F.tZ)("aside",{className:(0,K.cx)(u.POST_SIDEBAR,t1.container,e.className),children:(0,F.BX)("section",{className:t1.wrapper,children:[(0,F.tZ)(tQ,{author:t,openAboutMePivot:r}),(0,F.BX)("main",{className:t1.main,children:[(0,F.tZ)(tt,{paginationUrl:e.paginationUrl,magicPanelVisible:o,magicPanelActivated:i}),(0,F.tZ)(tK,{author:t})]})]})})};t0.propTypes={paginationUrl:Q().string,className:Q().string};let t1={container:(0,K.iv)({backdropFilter:"saturate(120%) blur(3px)",transition:"all 0.3s ease-in-out",flex:"0 1 auto",position:"sticky",top:0,left:0,display:"block",overflow:"auto",height:"100vh",width:"300px",minWidth:"200px",backgroundSize:"105% 105%",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundOrigin:"content-box",backgroundRepeat:"no-repeat",backgroundImage:m.colorBgSidebar,h1:{padding:0,margin:0},p:{padding:0,margin:0},"@media print":{display:"none"},["@media screen and ".concat(el.u3.smMinus)]:{[p.sizeAvatar]:"96px",[p.sizeIconBtn]:"24px",position:"relative",width:"100%",height:"auto"}}),wrapper:(0,K.iv)({display:"flex",flexDirection:"column",height:"min(100vh, 100%)",["@media screen and ".concat(el.u3.smMinus)]:{height:"auto"}}),main:(0,K.iv)({flex:"1 1 0",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"3rem",["@media screen and ".concat(el.u3.smMinus)]:{flexDirection:"column-reverse",paddingTop:0}})},t3=e=>{let{nodes:t,content:o,footer:i,paginationUrl:r,onScroll:a}=e,n=Z(),l=w(e=>e.magicPanelVisible$),s=(0,eL.mY)(e=>e.theme$),c=_.useRef(null),g=_.useCallback(()=>n({type:d.TOGGLE_MAGIC_PANEL,payload:!1}),[n]),[p,h]=_.useState(!1);return _.useEffect(()=>{let e=setTimeout(()=>h(!0),800);return()=>clearTimeout(e)},[]),(0,F.BX)("div",{className:(0,K.cx)(t8.container,!p&&"page-preload"),"data-theme":s,"data-magic-panel-visible":l,onClick:g,children:[(0,F.tZ)(t2,{}),(0,F.tZ)(tW,{containerRef:c}),(0,F.tZ)("div",{ref:c,className:t8.scrollableContainer,onScroll:a,children:(0,F.BX)("div",{className:t8.scrollableWrapper,children:[(0,F.tZ)(t0,{paginationUrl:r}),(0,F.tZ)(tH,{nodes:t}),(0,F.tZ)(tG,{content:o,footer:i})]})}),(0,F.tZ)(e2,{className:(0,K.cx)(l&&t8.fabMenuWhenMagicVisible)})]})},t2=()=>{let e=w(e=>e.magicPanelVisible$),t=(0,eL.mY)(e=>e.screenWidth$);return(0,F.tZ)(eJ,{visible:e&&t>=el.eq.sm})},t5=(0,K.F4)({"0%":{userSelect:"none"},"50%":{background:h.colorBgSelection},"100%":{userSelect:"none"}}),t8={container:(0,K.iv)({...eV,[J.Um.colorBgBody]:"none",[J.Um.colorBody]:m.colorPostBody,[J.Um.colorBorderHeading]:m.colorBorderPostHeading,[J.Um.colorHeading]:m.colorPostHeading,[J.Um.colorMath]:m.colorPostMath,[J.$K.marginBlockNode]:m.marginPostBlockNode,position:"relative",boxSizing:"border-box",height:"100vh",color:m.colorBody,"&::before":{content:'""',position:"absolute",top:0,left:0,zIndex:-1,width:"100%",height:"100%",backgroundImage:m.colorBgLayout,backgroundAttachment:"scroll",backgroundPosition:"center",backgroundOrigin:"content-box",backgroundRepeat:"no-repeat",backgroundSize:"105% 105%",filter:"saturate(90%) blur(0px) brightness(85%) contrast(150%)"},"::selection":{background:m.colorBgSelection,textShadow:"none"},":target":{animation:"1.5s ease-in 0s 1 ".concat(t5)},"::-webkit-scrollbar":{height:"3px",width:"3px"},"@media print":{"&&":{height:"auto",minHeight:"100vh"}},["@media screen and ".concat(el.u3.smMinus)]:{height:"unset",maxHeight:"unset",overflow:"unset"},['&[data-theme="'.concat(el.Q2.light,'"]')]:{...eW,[".".concat(u.POST_MAGIC_PANEL)]:{[h.colorNavDelimiter]:"hsl(0deg,0%,80%)",[h.colorNavItem]:"hsl(0deg,0%,95%)",[h.colorNavItemActive]:"hsl(30deg,90%,50%)",[h.colorNavItemHover]:"hsl(30deg,90%,60%)"},["@media screen and ".concat(el.u3.smMinus)]:{[h.colorBgSidebarAvatar]:"linear-gradient(90deg,#EDEBF1,#EAEBF1)",[h.colorBgLayout]:"linear-gradient(200deg, hsla(0deg,0%,80%,0.2), hsla(0deg,0%,90%,0.2))"},'&&[data-magic-panel-visible="true"]':{[h.colorBgFrostedGlass]:"hsla(0deg,0%,100%,0.6)",[h.colorBgLayout]:"linear-gradient(200deg, #95ceec, #ECC095)",[h.colorBgSidebar]:"linear-gradient(\n            90deg,\n            hsla(030deg, 92%, 58%, 0.05) 0,\n            hsla(010deg, 87%, 64%, 0.05) 15%,\n            hsla(343deg, 83%, 62%, 0.05) 30%,\n            hsla(291deg, 29%, 54%, 0.05) 44%,\n            hsla(220deg, 42%, 52%, 0.05) 58%,\n            hsla(188deg, 83%, 37%, 0.05) 72%,\n            hsla(172deg, 92%, 36%, 0.05) 86%,\n            hsla(136deg, 36%, 58%, 0.05) 100%\n          ),linear-gradient(0deg, hsla(0deg,0%,100%,0.6), hsla(0deg,0%,100%,0.6))",".yozora-markdown":{".yozora-blockquote":{background:"hsla(0deg,0%,100%,0.3)"}},["@media screen and ".concat(el.u3.smMinus)]:{[h.colorBgFrostedGlass]:"hsla(0deg,0%,100%,0.3)",[h.colorBgSidebar]:"linear-gradient(0deg,hsla(0deg,0%,30%,0.75),hsla(0deg,0%,30%,0.75))",[h.colorBgMagicPanel]:"linear-gradient(0deg,hsla(0deg,0%,30%,0.7),hsla(0deg,0%,30%,0.7)),linear-gradient(0deg,hsla(0deg,0%,80%,0.3),hsla(0deg,0%,80%,0.3)),url(/asset/img/balloon.jpeg)","&::before":{position:"fixed",top:0,left:0,height:"100vh"}}}},['&[data-theme="'.concat(el.Q2.darken,'"]')]:{...eU,["@media screen and ".concat(el.u3.smMinus)]:{[h.colorBgLayout]:"linear-gradient(0deg, #4D4D4D, #4D4D4D)",[h.colorBgSidebar]:"linear-gradient(0deg,#070807,#070807)",[h.colorBgSidebarAvatar]:"linear-gradient(180deg,#070807,#070807)"},'&&[data-magic-panel-visible="true"]':{[h.colorBgFrostedGlass]:"hsla(0deg,0%,0%,0.55)",[h.colorBgLayout]:"linear-gradient(200deg, hsla(200deg,70%,78%,0.5), hsla(30deg,70%,78%,0.5)),linear-gradient(0deg, #1A1A1A, #1A1A1A)",[h.colorBgSidebar]:"linear-gradient(\n            90deg,\n            hsla(030deg, 92%, 58%, 0.01) 0,\n            hsla(010deg, 87%, 64%, 0.01) 15%,\n            hsla(343deg, 83%, 62%, 0.01) 30%,\n            hsla(291deg, 29%, 54%, 0.01) 44%,\n            hsla(220deg, 42%, 52%, 0.01) 58%,\n            hsla(188deg, 83%, 37%, 0.01) 72%,\n            hsla(172deg, 92%, 36%, 0.01) 86%,\n            hsla(136deg, 36%, 58%, 0.01) 100%\n          ),linear-gradient(0deg, hsla(0deg,0%,0%,0.5), hsla(0deg,0%,0%,0.5))",[h.colorBgSidebarAvatar]:"linear-gradient(180deg, hsl(180deg,0%,20%,0.8), hsl(180deg,0%,20%,0.2))",["@media screen and ".concat(el.u3.smMinus)]:{[h.colorBgLayout]:"linear-gradient(180deg, hsl(180deg,0%,20%,0.8), hsl(180deg,0%,20%,0.2))",[h.colorBgFrostedGlass]:"hsla(0deg,0%,30%,0.8)",[h.colorBgSidebar]:"linear-gradient(0deg, ".concat(m.colorBgSidebarHeader,", ").concat(m.colorBgSidebarHeader,")"),[h.colorBgMagicPanel]:"linear-gradient(0deg, hsla(0deg,0%,0%,0.6), hsla(0deg,0%,0%,0.6)),linear-gradient(0deg, hsla(0deg,0%,30%,0.8), hsla(0deg,0%,30%,0.8)),url(/asset/img/balloon.jpeg)"}}}}),scrollableContainer:(0,K.iv)({height:"100%",overflow:"auto",scrollBehavior:"smooth","&&::-webkit-scrollbar-track":{background:"transparent"},"&&::-webkit-scrollbar-thumb":{border:"none",borderRadius:10,background:m.colorBgScrollbarThumb},["@media screen and ".concat(el.u3.smMinus)]:{flexDirection:"column",height:"unset",maxHeight:"unset",overflow:"unset"}}),scrollableWrapper:(0,K.iv)({position:"relative",display:"flex",alignItems:"flex-start",justifyContent:"center",minHeight:"100%",["@media screen and ".concat(el.u3.smMinus)]:{flexDirection:"column",height:"unset",maxHeight:"unset",overflow:"unset"}}),fabMenuWhenMagicVisible:(0,K.iv)({transform:"rotate(90deg)"})},t4=e=>{let{title:t,titleAst:o,slug:i,createdAt:r,updatedAt:a,timeToRead:n,tags:l,ast:s,toc:c,aplayerOptions:g,paginationUrl:p,prev:h,next:m}=e,u=Z(),v=eG("yozora-heading--toc",0),b=W(c),f=_.useCallback(e=>u({type:d.SEARCH,payload:{keyword:e}}),[u]),y=_.useMemo(()=>(0,F.tZ)(eC,{title:t,titleAst:o,slug:i,createdAt:r,timeToRead:n,tags:l,ast:s,footer:(0,F.tZ)(eR,{updatedAt:a,prev:h,next:m}),aplayerOptions:g,onSearchKeyword:f}),[t,o,i,r,a,n,l,s,g,h,m,f]);return(0,F.tZ)(t3,{nodes:b,content:y,footer:(0,F.tZ)(eD,{}),onScroll:v,paginationUrl:p})};class t6 extends _.PureComponent{render(){let{title:e,titleAst:t,slug:o,description:i,createdAt:r,updatedAt:a,timeToRead:n,tags:l,categories:s,ast:c,toc:d,ecmaImports:g,definitionMap:p,footnoteDefinitionMap:h,images:m,aplayerOptions:u,paginationUrl:v,prev:b,next:f}=this.props;return(0,F.BX)(_.Fragment,{children:[(0,F.tZ)(e$.TS,{title:e,description:i}),(0,F.tZ)(ek,{ecmaImports:g,definitionMap:p,footnoteDefinitionMap:h,images:m,children:(0,F.tZ)(t4,{title:e,titleAst:t,slug:o,createdAt:r,updatedAt:a,timeToRead:n,tags:l,categories:s,ast:c,toc:d,paginationUrl:v,prev:b,next:f,aplayerOptions:u})})]})}}class t9 extends _.PureComponent{render(){let{post:e,identifier:t,onSearchKeyword:o}=this.props;return(0,F.tZ)(ek,{ecmaImports:e.ecmaImports,definitionMap:e.definitionMap,footnoteDefinitionMap:e.footnoteDefinitionMap,images:e.images,children:(0,F.BX)("section",{id:t,className:(0,K.cx)(u.POST_LIST_ITEM,t7.post),children:[(0,F.tZ)(eC,{title:e.title,titleAst:e.titleAst,slug:e.slug,createdAt:e.createdAt,timeToRead:e.timeToRead,tags:e.tags,ast:e.excerpt,dontNeedFootnoteDefinitions:!0,onSearchKeyword:o}),(0,F.BX)(er,{url:e.slug,title:e.title,itemProp:"url",className:t7.readMore,children:[(0,F.tZ)("span",{itemProp:"headline","aria-label":e.title,children:"阅读全文"}),(0,F.tZ)(eS.Z,{})]})]})},e.slug)}}t9.displayName="PostListItem",t9.propTypes={post:Q().any.isRequired,identifier:Q().string.isRequired,onSearchKeyword:Q().func.isRequired};let t7={post:(0,K.iv)({position:"relative",margin:"0 0 2rem",[".".concat(u.POST_CONTENT)]:{borderBottom:"3rem transparent solid",[".".concat(u.POST_CONTENT_MAIN)]:{maxHeight:"20rem",textOverflow:"ellipsis"}},["@media screen and ".concat(el.u3.smMinus)]:{margin:"2rem 8px",borderRadius:"6px",overflow:"hidden",[".".concat(u.POST_CONTENT)]:{[".".concat(u.POST_CONTENT_HEADER)]:{"&::before":{backgroundImage:"linear-gradient(\n              200deg,\n              hsla(10deg, 70%, 60%, 0.5),\n              hsla(10deg, 40%, 70%, 0.5),\n              hsla(10deg, 20%, 70%, 0.5)\n            )"}},[".".concat(u.POST_CONTENT_MAIN)]:{maxHeight:"16rem"}}}}),readMore:(0,K.iv)({position:"absolute",bottom:"0",right:"0",transform:"translate(-2rem, -50%)",display:"flex",alignItems:"center",justifyContent:"flex-end",margin:"0",textDecoration:"none",color:m.colorLink,"&:visited":{color:m.colorLink},"&&:hover":{color:m.colorLinkHover},"&:active":{color:m.colorLinkActive},["@media screen and ".concat(el.u3.smMinus)]:{transform:"translate(-1rem, -50%)"}})},oe=e=>"post-"+(0,H.Q0)(e.slug);class ot extends _.PureComponent{render(){let{posts:e,pagination:t,onSearchKeyword:o}=this.props,{resolveUrl:i}=this;return(0,F.BX)(_.Fragment,{children:[(0,F.tZ)("main",{children:e.map(e=>{let t=oe(e);return(0,F.tZ)(t9,{post:e,identifier:t,onSearchKeyword:o},t)})}),(0,F.tZ)("nav",{className:oo.pagination,children:(0,F.tZ)(ea,{totalPage:t.totalPage,current:t.current,resolveUrl:i})})]})}constructor(...e){super(...e),this.resolveUrl=e=>{let{pagination:t,urlPrefix:o}=this.props;return e<=0||e>t.totalPage?null:o+""+e}}}ot.displayName="PostListContent",ot.propTypes={posts:Q().array.isRequired,pagination:Q().object.isRequired,urlPrefix:Q().string.isRequired,onSearchKeyword:Q().func.isRequired};let oo={pagination:(0,K.iv)({backdropFilter:"saturate(120%) blur(3px)",backgroundColor:m.colorBgFrostedGlass,transition:"all 0.3s ease-in-out",display:"flex",justifyContent:"center"})},oi=e=>{let{posts:t,pagination:o,urlPrefix:i}=e,r=Z(),a=eG(u.POST_LIST_ITEM,0),n=_.useMemo(()=>t.map(e=>({depth:1,identifier:oe(e),title:e.title})),[t]),l=_.useCallback(e=>r({type:d.SEARCH,payload:{keyword:e}}),[r]);return(0,F.tZ)(t3,{nodes:n,content:(0,F.tZ)(ot,{posts:t,pagination:o,urlPrefix:i,onSearchKeyword:l}),onScroll:a})};class or extends _.PureComponent{render(){let{posts:e,pagination:t}=this.props,o=(this.props.urlPrefix+"/").replace(/[/]+/g,"/"),i=e.map(e=>e.description).join("\n\n");return(0,F.BX)(_.Fragment,{children:[(0,F.tZ)(e$.TS,{title:"博文列表-".concat(t.current),description:i}),(0,F.tZ)(oi,{posts:e,pagination:t,urlPrefix:o})]})}}or.displayName="PostListLayout",or.propTypes={posts:Q().array.isRequired,pagination:Q().object.isRequired,urlPrefix:Q().string.isRequired};class oa extends _.Component{shouldComponentUpdate(e){let t=this.props;return!(0,q.X)(t,e)}render(){let{postItems:e,...t}=this.props;return(0,F.tZ)(j.og,{children:(0,F.tZ)(V,{initialData:{posts:e},storageKey:"@kyokuya/react-layout-post/#page",children:(0,F.tZ)(or,{...t})})})}}class on extends _.Component{shouldComponentUpdate(e){let t=this.props;return!(0,q.X)(t,e)}render(){let{postItems:e,...t}=this.props;return(0,F.tZ)(j.og,{children:(0,F.tZ)(V,{initialData:{posts:e},storageKey:"@kyokuya/react-layout-post/#page",children:(0,F.tZ)(t6,{...t})})})}}},81861:function(e,t,o){"use strict";var i,r;o.d(t,{R:function(){return i}}),(r=i||(i={})).ESSAY="essay",r.POST="post"},74243:function(e,t,o){var i={"./post/algorithm/dlx/sudoku-solver":[47662,662],"./post/algorithm/dlx/sudoku-solver.tsx":[47662,662],"./post/game/sudoku":[74045,264,156,440,10,728,45],"./post/game/sudoku.tsx":[74045,264,156,440,10,728,45],"./util/sudoku":[49387,387],"./util/sudoku.ts":[49387,387]};function r(e){if(!o.o(i,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],r=t[0];return Promise.all(t.slice(1).map(o.e)).then(function(){return o(r)})}r.keys=function(){return Object.keys(i)},r.id=74243,e.exports=r}}]);