"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{37299:function(e,r,n){n.r(r),n.d(r,{GraphvizRenderer:function(){return c}});var o=n(85893),t=n(26692),i=n(90902),s=n(45697),p=n.n(s),d=n(67294);class c extends d.Component{shouldComponentUpdate(e){let r=this.props;return r.code!==e.code||r.engine!==e.engine||!(0,t.Z)(r.options,e.options)}render(){let{graphRef:e}=this;return(0,o.jsx)("div",{ref:e,className:"yozora-code-renderer-graphviz"})}componentDidMount(){this.renderGraphviz()}componentDidUpdate(e){let r=this.props;(r.code!==e.code||r.options!==e.options||r.engine!==e.engine)&&this.renderGraphviz()}async renderGraphviz(){let{graphRef:e,onError:r}=this,{code:n,engine:o="dot",options:t}=this.props;if(null!=e.current)try{(0,i.f)(e.current,{fit:!0,zoom:!1,useWorker:!1,...t}).onerror(r).engine(o).renderDot(n)}catch(e){var s,p,d;null==r||r(null!==(d=null!==(p=null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:null==e?void 0:e.message)&&void 0!==p?p:e)&&void 0!==d?d:"Unexpected error occurred!")}}constructor(e){super(e),this.onError=e=>{var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e)},this.graphRef={current:null}}}c.displayName="GraphvizRenderer",c.propTypes={code:p().string.isRequired,engine:p().oneOf(["circo","dot","fdp","neato","osage","patchwork","twopi"]),options:p().any,onError:p().func},r.default=c}}]);