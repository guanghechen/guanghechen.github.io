"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{77205:function(e,t,o){o.d(t,{_j:function(){return _},Jx:function(){return i},xo:function(){return s}});let r="2023-06-11";(i||(i={})).TOGGLE_THEME="toggle-theme";var i,a=o(2265);let l=a.createContext(null);l.displayName="SiteContextType";let s=()=>a.useContext(l);var n=o(43930),d=o(43233),u=o(85800),c=o(89539),h=o.n(c);function p(){return window.screen.width}function m(e){return e<u.eq.xs?"xs":e<u.eq.sm?"sm":e<u.eq.md?"md":e<u.eq.lg?"lg":e<u.eq.xl?"xl":"xlPlus"}class g{get level(){return this._level}get name(){return this._name}setLevel(e){null!=e&&(this._levle=e)}write(e){console.log(e)}debug(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];console.debug(this.format(e,o))}verbose(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];console.log(this.format(e,o))}info(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];console.info(this.format(e,o))}warn(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];console.warn(this.format(e,o))}error(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];console.error(this.format(e,o))}fatal(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];console.error(this.format(e,o))}format(e,t){let o=(0,n.A3)(this._level),r=h()().format("YYYY-MM-DD HH:mm:ss"),i="["+this.name+"]",a="string"==typeof e?e:"",l=[];if("string"!=typeof e){let t=this.formatData(e);l.push(t)}for(let e of t){let t=this.formatData(e);l.push(t)}let s=0,d=l.length>0?a.replace(this._placeholderRegex,e=>{let t=l[s];return s+=1,void 0===t?e:t}):a;for(let e=s;e<l.length;++e)d+=" "+l[e];return r+" "+o+" "+i+" "+d}formatData(e){var t,o;let r=this._inline,i="function"==typeof e?e():"function"==typeof(null==e?void 0:e.toJSON)?e.toJSON():e;if(null===i)return"null";if(void 0===i)return"undefined";switch(typeof i){case"string":return r?i.replace(/\s*\n\s*/g," "):i;case"boolean":return i?"true":"false";case"number":return String(i)}return i instanceof Error?null!==(o=null!==(t=i.stack)&&void 0!==t?t:i.message)&&void 0!==o?o:i.name:r?JSON.stringify(i,null,0):JSON.stringify(i,null,2)}constructor(e){let{level:t,name:o,inline:r=!0,placeholderRegex:i=RegExp("(?<!\\\\)\\{\\}","g")}=e;this._level=t,this._name=o,this._inline=r,this._placeholderRegex=i}}let S=new g({name:"waw",level:d.H.ERROR}),v={author:{name:"guanghechen",motto:"有花满渚、有酒盈瓯",avatar:"",github:"https://github.com/guanghechen",rss:"/rss.xml",about:"/about"},copyright:{date:"2017-".concat(new Date().getFullYear())},description:"guanghechen's personal site",reporter:S,screenWidth:p(),screenBreakpoint:m(p()),siteUrl:"https://guanghechen.github.io",theme:u.Q2.light,title:"guanghechen"};var f=o(26813);class B{constructor(e){this.toggleTheme=e=>{this.viewmodel.theme$.next(e)},this.viewmodel=e.viewmodel}}class C extends f.jz{constructor(e){super(),this.getSnapshot=()=>({author:{...this.author$.getSnapshot()},copyright:{...this.copyright$.getSnapshot()},description:this.description$.getSnapshot(),reporter:this.reporter$.getSnapshot(),screenWidth:this.screenWidth$.getSnapshot(),screenBreakpoint:this.screenBreakpoint$.getSnapshot(),siteUrl:this.siteUrl$.getSnapshot(),theme:this.theme$.getSnapshot(),title:this.title$.getSnapshot()}),this.dispatch=e=>{let t=k[e.type];t?t(this._controller,e):console.error(this.constructor.name,"Unhandled action:",e)};let{author:t,copyright:o,description:r,reporter:i,siteUrl:a,title:l,theme:s}=e;this.author$=new f.ZM({...t}),this.copyright$=new f.ZM({...o}),this.description$=new f.ZM(r),this.reporter$=new f.ZM(i),this.screenWidth$=new f.ZM(p()),this.siteUrl$=new f.ZM(a),this.theme$=new f.ZM(s),this.title$=new f.ZM(l),this.screenBreakpoint$=f.D0.fromObservables([this.screenWidth$],e=>{let[t]=e;return m(t)});let n=new B({viewmodel:this});this._controller=n}}let k={[i.TOGGLE_THEME]:(e,t)=>{let o=t.payload;e.toggleTheme(o)}};var b=o(94026),y=o(40308),x=o(51326);let _=(0,u.Um)({displayName:"PersistentSiteContextProvider",version:r,disposeWhenUnmounted:!0,Provider:l.Provider,Persistent:e=>{let{viewmodel:t,storage:o,storageKey:i}=e,l=(0,f.sD)(t,["theme$"]),s=a.useMemo(()=>(0,y.P2)(()=>{let e={theme:t.theme$.getSnapshot()};return t.reporter$.getSnapshot().debug("saving {}. data:",i,e),o.save({version:r,data:e})},100),[t,o,i]);return a.useEffect(()=>void s(),[s,l]),(0,x.i7)(s,!1),(0,b.tZ)(a.Fragment,{})},SideEffect:e=>{let{viewmodel:t}=e;return a.useEffect(()=>{let e=()=>{let e=p();t.screenWidth$.next(e)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t]),(0,b.tZ)(a.Fragment,{})},ViewModel:C,initContextState:function(e){var t,o,r,i,a,l,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,{author:d,copyright:u,title:c,description:h,siteUrl:g,theme:S,reporter:f}=null!=e?e:{};return{author:{name:null!==(t=null==d?void 0:d.name)&&void 0!==t?t:n.author.name,motto:null!==(o=null==d?void 0:d.motto)&&void 0!==o?o:n.author.motto,avatar:null!==(r=null==d?void 0:d.avatar)&&void 0!==r?r:n.author.avatar,github:null!==(i=null==d?void 0:d.github)&&void 0!==i?i:n.author.github,rss:null!==(a=null==d?void 0:d.rss)&&void 0!==a?a:n.author.rss,about:null!==(l=null==d?void 0:d.about)&&void 0!==l?l:n.author.about},copyright:{date:null!==(s=null==u?void 0:u.date)&&void 0!==s?s:n.copyright.date},description:null!=h?h:n.description,reporter:null!=f?f:n.reporter,screenWidth:p(),screenBreakpoint:m(p()),siteUrl:null!=g?g:n.siteUrl,theme:null!=S?S:n.theme,title:null!=c?c:n.title}}})},58227:function(e,t,o){o.d(t,{p:function(){return n},X:function(){return i}}),(r=i||(i={}))[r.PENDING=1]="PENDING",r[r.RUNNING=2]="RUNNING",r[r.PAUSED=4]="PAUSED",r[r.END=8]="END";var r,i,a=o(88706),l=o(89756),s=o(85800);class n extends l.jz{constructor(e){super();let t=new l.ZM(e.status),o=new l.ZM(e.elapsedTime),r=Date.now(),n=(e,t)=>{let a=Date.now();if(t===i.RUNNING){let e=a-r;o.setState(t=>t+e)}else e===i.PENDING&&o.next(0);r=a},d=new l.Lv({onNext:(e,t)=>n(e,t)}),u=(0,s.iP)(()=>{let e=t.getSnapshot();n(e,e)});this.status$=t,this.elapsedTime$=o,this.registerDisposable(d),this.registerDisposable(new a.JT(u))}}},37239:function(e,t,o){o.d(t,{oh:function(){return u},tR:function(){return e_},yL:function(){return g},N:function(){return eU},X2:function(){return eD},Z:function(){return N},Zi:function(){return r},ef:function(){return Z},XO:function(){return S}});let r="2023-06-06";(s=d||(d={})).ERASE="ERASE",s.HINT="HINT",s.WRITE="WRITE",(n=u||(u={})).RESTART="RESTART",n.RESET="RESET",n.START="START",n.PAUSE="PAUSE",n.RESUME="RESUME",n.ACTIVE="ACTIVE",n.HINT="HINT",n.TOGGLE_CHEAT="TOGGLE_CHEAT",n.INPUT="INPUT";var i,a,l,s,n,d,u,c,h,p,m=o(2265);let g=m.createContext(null);g.displayName="SudokuContextType";let S=()=>m.useContext(g);var v=o(52381),f=o(58227),B=o(35984);let C={},k={},b=e=>{let t=k[e];return void 0===t&&(t=new v.$X(e),k[e]=t),t},y=e=>{let t=C[e];return void 0===t&&(t=new v.wY({childMatrixWidth:e}),C[e]=t),t},x=(e,t,o,r)=>{let{BOARD:i}=e;for(let e=0;e<i;++e)if(-1===t[e])return e;for(let e=0;e<i;++e)if(-1===o[e]&&t[e]!==r[e])return e;return -1};function _(e,t,o){let{BOARD:r}=e;for(let e=0;e<r;++e)if(t[e]!==o[e])return!1;return!0}function T(e,t){if(t<0)return{r:-1,c:-1};let{MATRIX:o}=e;return{r:Math.floor(t/o),c:t%o}}class ${constructor(e){var t=this;this.restart=()=>{let e=this.viewmodel,t=e.SUDOKU_SIZE_SQRT$.getSnapshot(),o=e.difficulty$.getSnapshot(),r=y(t),{puzzle:i,solution:a}=r.createSudoku(o/100),l=(0,v.s0)(r.size);(0,v._g)(i,l,r.size),e.status$.next(f.X.PENDING),e.gameTick$.setState(e=>e+1),e.puzzle$.next(i),e.solution$.next(a),e.attempt$.next(l),e.instructions$.next(B.aV.of()),e.hintPos$.next(-1),e.hintTick$.next(0),e.attemptTick$.next(0)},this.reset=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.viewmodel.SUDOKU_SIZE_SQRT$.getSnapshot(),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.viewmodel.difficulty$.getSnapshot(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.viewmodel.radix$.getSnapshot(),i=t.viewmodel,a=y(e),{puzzle:l,solution:s}=a.createSudoku(o/100),n=(0,v.s0)(a.size);(0,v._g)(l,n,a.size),i.status$.next(f.X.PENDING),i.SUDOKU_SIZE_SQRT$.next(e),i.difficulty$.next(o),i.radix$.next(r),i.puzzle$.next(l),i.solution$.next(s),i.attempt$.next(n),i.instructions$.next(B.aV.of()),i.hintPos$.next(-1),i.cheatVisible$.next(!1),i.gameTick$.setState(e=>e+1),i.attemptTick$.next(0),i.hintTick$.next(0)},this.start=()=>{let e=this.viewmodel;e.status$.getSnapshot()===f.X.PENDING&&e.status$.next(f.X.RUNNING)},this.pause=()=>{let e=this.viewmodel;e.status$.getSnapshot()===f.X.RUNNING&&e.status$.next(f.X.PAUSED)},this.resume=()=>{let e=this.viewmodel;e.status$.getSnapshot()===f.X.PAUSED&&e.status$.next(f.X.RUNNING)},this._end=()=>{let e=this.viewmodel;if(e.status$.getSnapshot()===f.X.RUNNING){let t=e.SUDOKU_SIZE_SQRT$.getSnapshot();if(!_(b(t),e.attempt$.getSnapshot(),e.solution$.getSnapshot()))return;let o=0,r=e.difficulty$.getSnapshot(),i=e.elapsedTime$.getSnapshot(),a=t**4*1e3;i<a&&(o=t**4*r/100*(a-i)/1e3);let l=Math.max(5,Math.round(o));e.status$.next(f.X.END),e.score$.setState(e=>e+l)}},this.activePos=(e,t)=>{let o=this.viewmodel,r=e*b(o.SUDOKU_SIZE_SQRT$.getSnapshot()).MATRIX+t;o.activatedPos$.next(r)},this.hint=()=>{let e=this.viewmodel,t=e.SUDOKU_SIZE_SQRT$.getSnapshot(),o=e.puzzle$.getSnapshot(),r=e.solution$.getSnapshot(),i=e.attempt$.getSnapshot(),a=e.activatedPos$.getSnapshot(),l=b(t),s=-1===a||-1!==o[a]?x(l,i,o,r):a,n=T(l,s);e.hintPos$.next(s),e.hintTick$.setState(e=>e+1),e.instructions$.setState(e=>e.push({type:d.HINT,payload:n,timestamp:new Date().toISOString()}))},this.toggleCheatVisibility=e=>{this.viewmodel.cheatVisible$.setState(t=>null!=e?e:!t)},this.input=e=>{let t=this.viewmodel;if(t.status$.getSnapshot()!==f.X.RUNNING)return;let{size:o}=y(t.SUDOKU_SIZE_SQRT$.getSnapshot());if(!Number.isInteger(e)||e<-1||e>=o.BOARD)return;let r=t.activatedPos$.getSnapshot();if(-1===r||-1!==t.puzzle$.getSnapshot()[r])return;let i=t.attempt$.getSnapshot();if(i[r]===e)return;let a=(0,v.s0)(o);(0,v._g)(i,a,o),a[r]=e;let{r:l,c:s}=T(o,r);t.attempt$.next(a),t.attemptTick$.setState(e=>e+1),t.hintPos$.setState(e=>r===e?-1:e),t.instructions$.setState(t=>t.push({type:d.WRITE,payload:{r:l,c:s,v:e},timestamp:new Date().toISOString()}))},this.viewmodel=e.viewmodel,this.viewmodel.attempt$.subscribeStateChange(()=>this._end())}}let Z=function(e){var t,o;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,{SUDOKU_SIZE_SQRT:i=r.SUDOKU_SIZE_SQRT,difficulty:a=r.difficulty,score:l=r.score,radix:s=r.radix,activatedPos:n=null!==(t=r.activatedPos)&&void 0!==t?t:-1,gameTick:u=r.gameTick,puzzle:c=r.puzzle,solution:h=r.solution,instructions:p=r.instructions.slice(),elapsedTime:m=r.elapsedTime}=null!=e?e:{},{puzzle:g,solution:S}=null!=c&&null!=h?{puzzle:c,solution:h}:y(i).createSudoku(a/100),B=b(i),C=(0,v.s0)(B);return(0,v._g)(g,C,B),!function(e,t,o){for(let r of o)switch(r.type){case d.ERASE:{let{r:o,c:i}=r.payload;t[o*e.MATRIX+i]=-1;break}case d.WRITE:{let{r:o,c:i,v:a}=r.payload;t[o*e.MATRIX+i]=a}}}(B,C,p),{status:null!==(o=null==e?void 0:e.status)&&void 0!==o?o:_(B,C,S)?f.X.END:m>0||!_(B,C,g)?f.X.PAUSED:f.X.PENDING,elapsedTime:m,SUDOKU_SIZE_SQRT:i,difficulty:a,radix:s,score:l,attempt:C,instructions:p,puzzle:g,solution:S,activatedPos:n,hintPos:-1,cheatVisible:!1,gameTick:u,attemptTick:0,hintTick:0}},R={status:f.X.PENDING,elapsedTime:0,SUDOKU_SIZE_SQRT:3,difficulty:20,radix:10,score:0,puzzle:null,solution:null,attempt:null,instructions:[],activatedPos:-1,hintPos:-1,cheatVisible:!1,gameTick:0,attemptTick:0,hintTick:0};var E=o(26813);class N extends f.p{constructor(e){super(e),this.getSnapshot=()=>({status:this.status$.getSnapshot(),elapsedTime:this.elapsedTime$.getSnapshot(),SUDOKU_SIZE_SQRT:this.SUDOKU_SIZE_SQRT$.getSnapshot(),difficulty:this.difficulty$.getSnapshot(),radix:this.radix$.getSnapshot(),score:this.score$.getSnapshot(),puzzle:this.puzzle$.getSnapshot(),solution:this.solution$.getSnapshot(),attempt:this.attempt$.getSnapshot(),instructions:Array.from(this.instructions$.getSnapshot()),activatedPos:this.activatedPos$.getSnapshot(),hintPos:this.hintPos$.getSnapshot(),cheatVisible:this.cheatVisible$.getSnapshot(),gameTick:this.gameTick$.getSnapshot(),attemptTick:this.attemptTick$.getSnapshot(),hintTick:this.hintTick$.getSnapshot()}),this.dispatch=e=>{let t=z[e.type];t?t(this._controller,e):console.error(this.constructor.name,"Unhandled action:",e)},this.SUDOKU_SIZE_SQRT$=new E.ZM(e.SUDOKU_SIZE_SQRT),this.difficulty$=new E.ZM(e.difficulty),this.radix$=new E.ZM(e.radix),this.score$=new E.ZM(e.score),this.puzzle$=new E.ZM(e.puzzle),this.solution$=new E.ZM(e.solution),this.attempt$=new E.ZM(e.attempt),this.instructions$=new E.ZM(B.aV.of(...e.instructions)),this.activatedPos$=new E.ZM(e.activatedPos),this.hintPos$=new E.ZM(e.hintPos),this.cheatVisible$=new E.ZM(e.cheatVisible),this.gameTick$=new E.ZM(e.gameTick),this.attemptTick$=new E.ZM(e.attemptTick),this.hintTick$=new E.ZM(e.hintTick);let t=new $({viewmodel:this});this._controller=t}}let z={[u.RESTART]:e=>{e.restart()},[u.RESET]:(e,t)=>{var o;let{SUDOKU_SIZE_SQRT:r,difficulty:i,radix:a}=null!==(o=t.payload)&&void 0!==o?o:{};e.reset(r,i,a)},[u.START]:e=>{e.start()},[u.PAUSE]:e=>{e.pause()},[u.RESUME]:e=>{e.resume()},[u.ACTIVE]:(e,t)=>{let{r:o,c:r}=t.payload;e.activePos(o,r)},[u.HINT]:e=>{e.hint()},[u.TOGGLE_CHEAT]:(e,t)=>{let o=t.payload;e.toggleCheatVisibility(o)},[u.INPUT]:(e,t)=>{let o=t.payload;e.input(o)}};var U=o(94026),w=o(40663),D=o(38342),I=o(50659),P=o(74404),A=o.n(P);(i=c||(c={})).fontSize="--sudoku_fontSize",i.fontSizeBoardCell="--sudoku_fontSizeBoardCell",i.fontSizeFinishedBanner="--sudoku_fontSizeFinishedBanner",i.sizeBoardCell="--sudoku_sizeBoardCell",i.sizeBorderBoard1="--sudoku_sizeBorderBoard1",i.sizeBorderBoard2="--sudoku_sizeBorderBoard2",i.sizeBorderBoard3="--sudoku_sizeBorderBoard3",(a=h||(h={})).colorBgBoard="--sudoku_colorBgBoard",a.colorBgBoardCell="--sudoku_colorBgBoardCell",a.colorBgBoardCellActivated="--sudoku_colorBgBoardCellActivated",a.colorBgBoardCellDuplicated="--sudoku_colorBgBoardCellDuplicated",a.colorBgBoardCellRelated="--sudoku_colorBgBoardCellRelated",a.colorBgBoardCellSame="--sudoku_colorBgBoardCellSame",a.colorBoardCellActivated="--sudoku_colorBoardCellActivated",a.colorBoardCellAttempt="--sudoku_colorBoardCellAttempt",a.colorBoardCellHint="--sudoku_colorBoardCellHint",a.colorBoardCellPreset="--sudoku_colorBoardCellPreset",a.colorBoardCellSame="--sudoku_colorBoardCellSame",a.colorBody="--sudoku_colorBody",a.colorBorderBoard2="--sudoku_colorBorderBoard2",a.colorBorderBoard3="--sudoku_colorBorderBoard3",a.colorElapsedTime="--sudoku_colorElapsedTime",a.colorScore="--sudoku_colorScore",(l=p||(p={})).colorBgBoard="var(--sudoku_colorBgBoard)",l.colorBgBoardCell="var(--sudoku_colorBgBoardCell)",l.colorBgBoardCellActivated="var(--sudoku_colorBgBoardCellActivated)",l.colorBgBoardCellDuplicated="var(--sudoku_colorBgBoardCellDuplicated)",l.colorBgBoardCellRelated="var(--sudoku_colorBgBoardCellRelated)",l.colorBgBoardCellSame="var(--sudoku_colorBgBoardCellSame)",l.colorBoardCellActivated="var(--sudoku_colorBoardCellActivated)",l.colorBoardCellAttempt="var(--sudoku_colorBoardCellAttempt)",l.colorBoardCellHint="var(--sudoku_colorBoardCellHint)",l.colorBoardCellPreset="var(--sudoku_colorBoardCellPreset)",l.colorBoardCellSame="var(--sudoku_colorBoardCellSame)",l.colorBody="var(--sudoku_colorBody)",l.colorBorderBoard2="var(--sudoku_colorBorderBoard2)",l.colorBorderBoard3="var(--sudoku_colorBorderBoard3)",l.colorElapsedTime="var(--sudoku_colorElapsedTime)",l.colorScore="var(--sudoku_colorScore)",l.fontSize="var(--sudoku_fontSize)",l.fontSizeBoardCell="var(--sudoku_fontSizeBoardCell)",l.fontSizeFinishedBanner="var(--sudoku_fontSizeFinishedBanner)",l.sizeBoardCell="var(--sudoku_sizeBoardCell)",l.sizeBorderBoard1="var(--sudoku_sizeBorderBoard1)",l.sizeBorderBoard2="var(--sudoku_sizeBorderBoard2)",l.sizeBorderBoard3="var(--sudoku_sizeBorderBoard3)";class X extends m.PureComponent{render(){let{elapsedTime:e}=this.props;return(0,U.BX)("div",{className:M.elapsedTime,children:[(0,U.tZ)(I.Z,{title:"Time used",children:(0,U.tZ)(D.default,{})}),"\xa0\xa0",(0,U.tZ)("span",{children:e})]},"elapsed-time")}}X.displayName="ElapsedTimeComponent",X.propTypes={elapsedTime:A().string.isRequired};let M={elapsedTime:(0,w.iv)({flex:"0 1 auto",display:"flex",alignItems:"center",fontFamily:"Consolas, 'Source Code Pro', 'Roboto Mono', monospace, sans-serif",color:p.colorElapsedTime,userSelect:"none"})};var O=o(39552),G=o(69867),q=o(90680),K=o(76718);class Q extends m.Component{shouldComponentUpdate(e){return this.props.status!==e.status}render(){let{status:e}=this.props,{start:t,resume:o,restart:r}=this;switch(e){case f.X.PENDING:return(0,U.tZ)("div",{className:W.overlay,children:(0,U.tZ)(K.Z,{className:W.button,variant:"contained",color:"primary",startIcon:(0,U.tZ)(G.default,{}),onClick:t,children:"Start"})});case f.X.PAUSED:return(0,U.tZ)("div",{className:W.overlay,children:(0,U.tZ)(K.Z,{className:W.button,variant:"contained",color:"primary",startIcon:(0,U.tZ)(O.default,{}),onClick:o,children:"Resume"})});case f.X.END:return(0,U.tZ)("div",{className:W.overlay,children:(0,U.BX)("div",{className:W.finishedBanner,children:[(0,U.tZ)("p",{children:"You win \uD83C\uDF89\uD83C\uDF89\uD83C\uDF89"}),(0,U.tZ)(K.Z,{className:W.button,variant:"contained",color:"primary",startIcon:(0,U.tZ)(q.default,{}),onClick:r,children:"New"})]})});default:return(0,U.tZ)(m.Fragment,{})}}componentDidUpdate(e){let t=this.props.status;e.status!==t&&t===f.X.END&&this.props.throwConfetti()}constructor(...e){super(...e),this.start=()=>{let{dispatchSudokuAction:e}=this.props;e({type:u.START})},this.resume=()=>{let{dispatchSudokuAction:e}=this.props;e({type:u.RESUME})},this.restart=()=>{let{dispatchSudokuAction:e}=this.props;e({type:u.RESTART})}}}Q.displayName="GameOverlayComponent",Q.propTypes={status:A().any.isRequired,dispatchSudokuAction:A().func.isRequired,throwConfetti:A().func.isRequired};let W={overlay:(0,w.iv)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",userSelect:"none"}),confettiCanvas:(0,w.iv)({position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"}),button:(0,w.iv)({"&&, &&:hover":{boxShadow:"4px 4px 16px 0px hsl(0deg 0% 0% / 0.75)"}}),finishedBanner:(0,w.iv)({position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",padding:0,margin:0,fontSize:p.fontSizeFinishedBanner}),playerName:(0,w.iv)({color:"#e200e2"})};var F=o(52472),H=o(78545),V=o(23742);class L extends m.PureComponent{render(){let{status:e,SUDOKU_SIZE_SQRT:t,difficulty:o,radix:r}=this.props,{onSizeChange:i,onRadixChange:a,onDifficultyChange:l}=this,s=e===f.X.PENDING;return(0,U.BX)("div",{className:j.settings,children:[(0,U.BX)("div",{className:j.item,children:[(0,U.tZ)("span",{children:"Size:"}),(0,U.BX)(F.Z,{variant:"standard",value:t,disabled:!s,onChange:i,children:[(0,U.tZ)(H.Z,{value:2,children:"4x4"}),(0,U.tZ)(H.Z,{value:3,children:"9x9"}),(0,U.tZ)(H.Z,{value:4,children:"16x16"})]})]}),(0,U.BX)("div",{className:j.item,children:[(0,U.tZ)("span",{children:"Radix:"}),(0,U.BX)(F.Z,{variant:"standard",value:r,disabled:!s,onChange:a,children:[(0,U.tZ)(H.Z,{value:10,children:"Decimal (x10)"}),(0,U.tZ)(H.Z,{value:16,children:"Hexadecimal (x16)"})]})]}),(0,U.BX)("div",{className:(0,w.cx)(j.item,j.difficulty),children:[(0,U.tZ)("span",{children:"Difficulty:"}),(0,U.tZ)(V.ZP,{value:o,disabled:!s,step:1,min:0,max:100,valueLabelDisplay:"auto","aria-labelledby":"sudoku-difficulty",onChange:l})]})]})}constructor(...e){super(...e),this.onSizeChange=e=>{let{dispatchSudokuAction:t}=this.props;t({type:u.RESET,payload:{SUDOKU_SIZE_SQRT:Number(e.target.value)}})},this.onRadixChange=e=>{let{dispatchSudokuAction:t}=this.props;t({type:u.RESET,payload:{radix:Number(e.target.value)}})},this.onDifficultyChange=(e,t)=>{let{dispatchSudokuAction:o}=this.props;o({type:u.RESET,payload:{difficulty:t}})}}}L.displayName="GameSettingsComponent",L.propTypes={status:A().any.isRequired,SUDOKU_SIZE_SQRT:A().number.isRequired,difficulty:A().number.isRequired,radix:A().number.isRequired,dispatchSudokuAction:A().func.isRequired};let j={settings:(0,w.iv)({display:"block",maxWidth:"min(90vw, 400px)",margin:"auto"}),item:(0,w.iv)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",margin:"1rem 0","& > *":{marginRight:"1rem"}}),difficulty:(0,w.iv)({flexWrap:"nowrap","& > span":{"&:first-child":{flex:"0 0 auto"}}})};var Y=o(74706),J=o(10685),ee=o(76100),et=o(49565),eo=o(5734),er=o(99831),ei=o(95196),ea=o(89539),el=o.n(ea),es=o(65939),en=o.n(es);el().extend(en());let ed=()=>{let e=S(),t=(0,E.vc)(e.elapsedTime$),o=el().duration(t).format("HH:mm:ss");return(0,U.tZ)(X,{elapsedTime:o})};class eu extends m.Component{render(){let{containerRef:e,status:t,score:o}=this.props,{isRestartDialogVisible:r}=this.state,{closeRestartDialog:i,hint:a,pauseGame:l,restartGame:s,showCheat:n,startGame:d}=this;return(0,U.BX)("div",{className:ec.toolbar,children:[(0,U.BX)("div",{className:(0,w.cx)(ec.item,ec.buttons),children:[(0,U.tZ)(K.Z,{variant:"contained",color:"inherit",startIcon:(0,U.tZ)(q.default,{}),onClick:d,children:"New"}),(0,U.tZ)(K.Z,{variant:"contained",color:"inherit",disabled:t!==f.X.RUNNING,startIcon:(0,U.tZ)(Y.default,{}),onClick:a,children:"HINT"}),(0,U.tZ)(K.Z,{variant:"contained",color:"secondary",disabled:t!==f.X.RUNNING,startIcon:(0,U.tZ)(ee.default,{}),onClick:n,children:"Cheat"})]}),(0,U.BX)("div",{className:(0,w.cx)(ec.item,ec.state),children:[(0,U.tZ)("div",{className:ec.stateButtons,children:t===f.X.RUNNING&&(0,U.tZ)(I.Z,{title:"Pause",children:(0,U.tZ)(et.Z,{color:"primary",onClick:l,children:(0,U.tZ)(J.default,{})})})},"state-buttons"),(0,U.tZ)(ed,{}),(0,U.BX)("div",{className:ec.score,children:["Score: ",o]},"score")]}),(0,U.BX)(eo.Z,{container:e.current,open:r,onClose:i,"aria-labelledby":"confirm-to-restart",children:[(0,U.tZ)(er.Z,{children:"Are you sure you want to start a new game?"}),(0,U.BX)(ei.Z,{children:[(0,U.tZ)(K.Z,{color:"inherit",onClick:i,children:"Cancel"}),(0,U.tZ)(K.Z,{color:"primary",onClick:s,children:"Confirm"})]})]})]})}constructor(e){super(e),this.closeRestartDialog=()=>{this.setState({isRestartDialogVisible:!1})},this.hint=()=>{let{dispatchSudokuAction:e}=this.props;e({type:u.HINT})},this.pauseGame=()=>{let{dispatchSudokuAction:e}=this.props;e({type:u.PAUSE})},this.restartGame=()=>{let{dispatchSudokuAction:e}=this.props;this.setState({isRestartDialogVisible:!1}),e({type:u.RESTART})},this.showCheat=()=>{let{dispatchSudokuAction:e}=this.props;e({type:u.TOGGLE_CHEAT,payload:!0})},this.startGame=()=>{let{status:e}=this.props;e===f.X.PENDING||e===f.X.END?this.restartGame():this.setState({isRestartDialogVisible:!0})},this.state={isRestartDialogVisible:!1}}}eu.displayName="GameToolbarComponent",eu.propTypes={containerRef:A().object.isRequired,status:A().any.isRequired,score:A().number.isRequired,dispatchSudokuAction:A().func.isRequired};let ec={toolbar:(0,w.iv)({display:"block",maxWidth:"min(90vw, 400px)",margin:"auto"}),item:(0,w.iv)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",margin:"1rem 0","> *":{marginRight:"1rem"}}),buttons:(0,w.iv)({justifyContent:"space-around","> button":{margin:"0 4px"}}),state:(0,w.iv)({justifyContent:"center",margin:"2rem 0 0",height:"48px"}),stateButtons:(0,w.iv)({flex:"0 1 auto",display:"flex",alignItems:"center",justifyContent:"center",margin:"0",userSelect:"none"}),score:(0,w.iv)({flex:"0 1 auto",color:p.colorScore,overflow:"hidden",textOverflow:"ellipsis",fontFamily:"Consolas, 'Source Code Pro', 'Roboto Mono', monospace, sans-serif"})};class eh extends m.Component{shouldComponentUpdate(e){return this.props.SUDOKU_SIZE_SQRT!==e.SUDOKU_SIZE_SQRT}render(){let{SUDOKU_SIZE_SQRT:e}=this.props,t=e*e,o=[];for(let r=e,i=-1;r<t;r+=e,++i){let e="calc((".concat(r," * ").concat(p.sizeBoardCell,") + ").concat(r+i,"px)");o.push((0,U.tZ)("div",{className:ep.horizontalBoarder,style:{top:e}},"h-".concat(r))),o.push((0,U.tZ)("div",{className:ep.verticalBorder,style:{left:e}},"v-".concat(r)))}return(0,U.tZ)(m.Fragment,{children:o})}}eh.displayName="SudokuBoardBorders",eh.propTypes={SUDOKU_SIZE_SQRT:A().number.isRequired};let ep={horizontalBoarder:(0,w.iv)({position:"absolute",boxSizing:"content-box",left:"0",right:"0",bottom:"unset",width:"calc(100% + 2px)",height:p.sizeBorderBoard2,background:p.colorBorderBoard2}),verticalBorder:(0,w.iv)({position:"absolute",boxSizing:"content-box",top:"0",bottom:"0",right:"unset",height:"calc(100% + 2px)",width:p.sizeBorderBoard2,background:p.colorBorderBoard2})};function em(e,t){let{BOARD:o,MATRIX:r,BASE_1:i,BASE_3:a}=e,l=Array(o).fill(!1),s=Array(r).fill(0);for(let e=0;e<o;e+=r){s.fill(0);for(let o=e,i=e+r;o<i;++o){let e=t[o];-1!==e&&(s[e]+=1)}for(let o=e,i=e+r;o<i;++o){let e=t[o];-1!==e&&s[e]>1&&(l[o]=!0)}}for(let e=0;e<r;++e){s.fill(0);for(let i=e;i<o;i+=r){let e=t[i];-1!==e&&(s[e]+=1)}for(let i=e;i<o;i+=r){let e=t[i];-1!==e&&s[e]>1&&(l[i]=!0)}}for(let e=0;e<o;e+=a)for(let o=0;o<r;o+=i){s.fill(0);for(let l=e,n=e+a;l<n;l+=r)for(let e=l+o,r=e+i;e<r;++e){let o=t[e];-1!==o&&(s[o]+=1)}for(let n=e,d=e+a;n<d;n+=r)for(let e=n+o,r=e+i;e<r;++e){let o=t[e];-1!==o&&s[o]>1&&(l[e]=!0)}}return l}class eg extends m.PureComponent{render(){let e;let{SUDOKU_SIZE_SQRT:t,radix:o,puzzle:r,solution:i,attempt:a}=this.props,{activatedPos:l,hintTick:s,hintPos:n,onCellClick:d}=this.props;t!==this.size.BASE_1&&(this.size=new v.$X(t),this.matrixCoordinateMap=(0,v.iN)(this.size));let{size:u,matrixCoordinateMap:c}=this,{r:h,c:p}=T(u,l),g=c[l],S=-1===l?-1:a[l],{r:f=-1,c:B=-1}=T(u,n),C=-1===n?-1:i[n];if(-1!==n&&-1===r[n]){let t=a[n];a[n]=i[n],e=em(u,a),a[n]=t}else e=em(u,a);let k=[];for(let i=0,l=0;i<u.MATRIX;++i){let n=[];for(let m=0;m<u.MATRIX;++m,++l){let u=a[l],v=i===f&&m===B,k=i===h&&m===p,b=!k&&(i===h||m===p||c[l]===g),y=-1!==S&&u===S&&!b&&!k,x=!!e[l],_=v?C:u,T=(0,U.tZ)("span",{className:(0,w.cx)(ev.boardCell,{[ev.boardCellLeftSeamless]:0===m,[ev.boardCellLeft]:m>0&&m%t==0,[ev.boardCellTopSeamless]:0===i,[ev.boardCellTop]:i>0&&i%t==0,[ev.boardCellPreset]:-1!==u,[ev.boardCellAttempt]:u!==r[l],[ev.boardCellDuplicated]:!v&&x,[ev.boardCellHint]:v,[ev.boardCellActivated]:!x&&k,[ev.boardCellRelated]:!x&&b,[ev.boardCellSame]:!x&&y}),children:(0,U.tZ)("span",{className:ev.boardCellContent,"data-sudoku-hint":v,onClick:()=>d(i,m),children:-1===_?"":(_+1).toString(o)})},v?"".concat(m,"-hint-").concat(s):m);n.push(T)}k.push((0,U.tZ)("div",{className:ev.boardRow,children:n},i))}return(0,U.tZ)(m.Fragment,{children:k})}constructor(e){super(e),this.size=new v.$X(e.SUDOKU_SIZE_SQRT),this.matrixCoordinateMap=(0,v.iN)(this.size)}}eg.displayName="SudokuBoardCells",eg.propTypes={SUDOKU_SIZE_SQRT:A().number.isRequired,radix:A().number.isRequired,puzzle:A().array.isRequired,solution:A().array.isRequired,attempt:A().array.isRequired,activatedPos:A().number.isRequired,hintTick:A().number.isRequired,hintPos:A().number.isRequired,onCellClick:A().func};let eS={hint:(0,w.F4)({"0%":{transform:"scale(1) rotate(0deg)"},"50%":{transform:"scale(2) rotate(200deg)"},"100%":{transform:"scale(1.3) rotate(360deg)"}})},ev={boardRow:(0,w.iv)({display:"flex"}),boardCell:(0,w.iv)({flex:"0 0 auto",overflow:"hidden",display:"inline-block",boxSizing:"content-box",width:p.sizeBoardCell,height:p.sizeBoardCell,borderColor:"transparent",borderStyle:"solid",borderTopWidth:p.sizeBorderBoard1,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:p.sizeBorderBoard1,backgroundColor:p.colorBgBoardCell,backgroundClip:"content-box",userSelect:"none",cursor:"pointer"}),boardCellContent:(0,w.iv)({display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",width:"100%",padding:"4px",margin:0,'&[data-sudoku-hint="true"]':{animation:"0.5s 0s ".concat(eS.hint," linear 1 both normal")}}),boardCellLeftSeamless:(0,w.iv)({borderLeftWidth:0}),boardCellLeft:(0,w.iv)({borderLeftWidth:p.sizeBorderBoard2}),boardCellTopSeamless:(0,w.iv)({borderTopWidth:0}),boardCellTop:(0,w.iv)({borderTopWidth:p.sizeBorderBoard2}),boardCellPreset:(0,w.iv)({color:p.colorBoardCellPreset}),boardCellHint:(0,w.iv)({"&&":{color:p.colorBoardCellHint}}),boardCellAttempt:(0,w.iv)({color:p.colorBoardCellAttempt}),boardCellDuplicated:(0,w.iv)({background:p.colorBgBoardCellDuplicated,borderColor:p.colorBgBoard}),boardCellActivated:(0,w.iv)({color:p.colorBoardCellActivated,background:p.colorBgBoardCellActivated,borderColor:p.colorBgBoard}),boardCellRelated:(0,w.iv)({background:p.colorBgBoardCellRelated,borderColor:p.colorBgBoard}),boardCellSame:(0,w.iv)({color:p.colorBoardCellSame,background:p.colorBgBoardCellSame,borderColor:p.colorBgBoard})};class ef extends m.PureComponent{render(){let{SUDOKU_SIZE_SQRT:e,radix:t,puzzle:o,solution:r,attempt:i,status:a,activatedPos:l,hintTick:s,hintPos:n,overlay:d}=this.props,{onCellClick:u}=this;return(0,U.BX)("div",{className:eC.container,children:[(0,U.tZ)("div",{className:eC.overlay,"data-sudoku-status":a,children:d}),(0,U.tZ)(eh,{SUDOKU_SIZE_SQRT:e}),(0,U.tZ)("div",{className:eC.boardWrapper,"data-sudoku-status":a,children:(0,U.tZ)(eg,{SUDOKU_SIZE_SQRT:e,puzzle:o,solution:r,radix:t,activatedPos:l,hintTick:s,attempt:i,hintPos:n,onCellClick:u})})]})}constructor(...e){super(...e),this.onCellClick=(e,t)=>{let{dispatchSudokuAction:o,onCellClick:r}=this.props;null==r||r(e,t),o({type:u.ACTIVE,payload:{r:e,c:t}})}}}ef.displayName="SudokuBoardComponent",ef.propTypes={SUDOKU_SIZE_SQRT:A().number.isRequired,radix:A().number.isRequired,puzzle:A().array.isRequired,solution:A().array.isRequired,attempt:A().array.isRequired,status:A().any.isRequired,activatedPos:A().number.isRequired,hintTick:A().number.isRequired,hintPos:A().number.isRequired,overlay:A().node,dispatchSudokuAction:A().func.isRequired,onCellClick:A().func};let eB={finished:(0,w.F4)({"0%":{transform:"translate(0, -100px)"},"80%":{transform:"translate(0, 20px)"},"90%":{transform:"translate(0, -10px)"},"95%":{transform:"translate(0, 2px)"},"100%":{transform:"translate(0, 0)"}})},eC={container:(0,w.iv)({position:"relative",boxSizing:"content-box",display:"inline-block",width:"fit-content",padding:0,border:"".concat(p.sizeBorderBoard3," solid ").concat(p.colorBorderBoard3),margin:0,backgroundColor:p.colorBgBoard,fontFamily:"Consolas, 'Source Code Pro', 'Roboto Mono', monospace, sans-serif"}),overlay:(0,w.iv)({zIndex:2,position:"absolute",top:0,left:0,right:0,bottom:0,display:"none",width:"100%",height:"100%",overflow:"hidden",background:"linear-gradient(45deg, hsla(30deg,20%,90%,0.2), hsla(210deg,20%,100%,0.3))",['&[data-sudoku-status="'.concat(f.X.PENDING,'"]')]:{display:"block",backdropFilter:"blur(1px)"},['&[data-sudoku-status="'.concat(f.X.RUNNING,'"]')]:{display:"none"},['&[data-sudoku-status="'.concat(f.X.PAUSED,'"]')]:{display:"block",backdropFilter:"blur(16px)"},['&[data-sudoku-status="'.concat(f.X.END,'"]')]:{display:"block",backdropFilter:"blur(4px)",color:"#FF00FF",animation:"1s 0s ".concat(eB.finished," ease-in-out")}}),boardWrapper:(0,w.iv)({display:"flex",flexDirection:"column",fontSize:p.fontSizeBoardCell,['&[data-sudoku-status="'.concat(f.X.PENDING,'"]')]:{borderColor:"transparent"},['&[data-sudoku-status="'.concat(f.X.PAUSED,'"]')]:{borderColor:"transparent"},['&[data-sudoku-status="'.concat(f.X.END,'"]')]:{borderColor:"transparent"}})};var ek=o(64866);let eb=()=>{let e=S(),t=(0,E.vc)(e.status$),o=(0,ek.D)();return(0,U.tZ)(Q,{status:t,dispatchSudokuAction:e.dispatch,throwConfetti:o})},ey=()=>{let e=S(),t=(0,E.vc)(e.status$),o=(0,E.vc)(e.SUDOKU_SIZE_SQRT$),r=(0,E.vc)(e.difficulty$),i=(0,E.vc)(e.radix$);return(0,U.tZ)(L,{status:t,SUDOKU_SIZE_SQRT:o,difficulty:r,radix:i,dispatchSudokuAction:e.dispatch})},ex=e=>{let{containerRef:t}=e,o=S(),r=(0,E.vc)(o.status$),i=(0,E.vc)(o.score$);return(0,U.tZ)(eu,{containerRef:t,status:r,score:i,dispatchSudokuAction:o.dispatch})},e_=e=>{let{attempt:t,hintPos:o,overlay:r,onCellClick:i}=e,a=S(),l=(0,E.vc)(a.SUDOKU_SIZE_SQRT$),s=(0,E.vc)(a.radix$),n=(0,E.vc)(a.puzzle$),d=(0,E.vc)(a.solution$),u=(0,E.vc)(a.status$),c=(0,E.vc)(a.activatedPos$),h=(0,E.vc)(a.hintTick$);return(0,U.tZ)(ef,{SUDOKU_SIZE_SQRT:l,radix:s,puzzle:n,solution:d,attempt:t,status:u,activatedPos:c,hintTick:h,hintPos:o,overlay:r,dispatchSudokuAction:a.dispatch,onCellClick:i})};var eT=o(51326),e$=o(82384);class eZ extends m.Component{render(){let{inputRef:e,radix:t}=this.props,{text:o}=this.state,{onChange:r,onKeyDown:i,onFocus:a}=this;return(0,U.tZ)(e$.Z,{inputRef:e,autoFocus:!0,autoComplete:"off",margin:"dense",label:"A ".concat(10===t?"decimal":"hexadecimal"," number"),type:t<=10?"number":"input",fullWidth:!0,value:o,multiline:!1,onChange:r,onFocus:a,onKeyDown:i})}shouldComponentUpdate(e,t){let o=this.props,r=this.state;return t.text!==r.text||e.size!==o.size||e.radix!==o.radix||e.initialValue!==o.initialValue}constructor(e){super(e),this.onChange=e=>{let{radix:t,size:o,onConfirm:r}=this.props,i=this.state.text,a=e.target.value;if(this.setState({text:a}),i.length<=a.length&&o<t){let e=Number.parseInt(a,t);e>0&&e<=o&&r(e)}},this.onKeyDown=e=>{if("Enter"===e.key){let{radix:e,size:t,onConfirm:o}=this.props,r=Number.parseInt(this.state.text,e);r>=0&&r<=t&&o(r)}},this.onFocus=e=>{e.target.select()};let{radix:t,initialValue:o}=e;this.state={text:o>0?o.toString(t):""}}}eZ.displayName="SudokuInputComponent",eZ.propTypes={inputRef:A().object.isRequired,size:A().number.isRequired,radix:A().number.isRequired,initialValue:A().number.isRequired,onConfirm:A().func.isRequired};let eR=e=>{let{size:t,container:o,cellPos:r,visible:i,onCancel:a}=e,l=S(),s=(0,E.vc)(l.radix$),n=(0,E.vc)(l.attempt$),d=m.useRef(null),u=r>=0?n[r]+1:0,c=(0,eT.$0)(o=>{o>=0&&o<=t&&e.onConfirm(o)}),h=(0,eT.$0)(()=>{var e;let t=null===(e=d.current)||void 0===e?void 0:e.value;"string"==typeof t&&c(Number.parseInt(t,s))});return(0,U.BX)(eo.Z,{container:o,open:i,onClose:a,"aria-labelledby":"sudoku-input-dialog",children:[(0,U.tZ)(er.Z,{children:(0,U.tZ)(eZ,{inputRef:d,size:t,radix:s,initialValue:u,onConfirm:c},r)}),(0,U.BX)(ei.Z,{children:[(0,U.tZ)(K.Z,{color:"inherit",onClick:a,children:"Cancel"}),(0,U.tZ)(K.Z,{color:"primary",onClick:h,children:"Confirm"})]})]})};var eE=o(85800),eN=o(87823);let ez={backdrop:{timeout:500}},eU=()=>{let e=S(),t=(0,E.vc)(e.SUDOKU_SIZE_SQRT$),o=(0,E.vc)(e.puzzle$),r=(0,E.vc)(e.solution$),i=(0,E.vc)(e.attempt$),a=(0,E.vc)(e.hintPos$),l=(0,E.vc)(e.cheatVisible$),s=b(t),n=m.useRef(null),d=m.useRef(-1),[c,h]=m.useState(!1),p={closeCheat:(0,eT.$0)(()=>{e.dispatch({type:u.TOGGLE_CHEAT,payload:!1})}),handleInput:(0,eT.$0)(t=>{h(!1),e.dispatch({type:u.INPUT,payload:t-1})}),handleCellClick:(0,eT.$0)((e,t)=>{if(-1===e||-1===t)return;let r=e*s.MATRIX+t;-1===o[r]&&(d.current=r,h(!0))})};return(0,eT.TK)(()=>e.dispatch({type:u.PAUSE}),[e]),(0,eE.kG)(t>=2&&t<=7,"`childMatrixSize` must be an integer in the range [2, 7]."),(0,U.BX)("div",{ref:n,children:[(0,U.BX)("div",{className:ew.sudokuWrapper,children:[(0,U.tZ)(ey,{}),(0,U.tZ)(ex,{containerRef:n}),(0,U.tZ)("div",{className:ew.sudokuMain,children:(0,U.BX)("div",{className:ew.sudokuMainWrapper,children:[(0,U.tZ)(e_,{attempt:i,hintPos:a,overlay:(0,U.tZ)(eb,{}),onCellClick:p.handleCellClick}),(0,U.tZ)(eN.Z,{open:l,container:n.current,keepMounted:!0,disableAutoFocus:!0,slotProps:ez,closeAfterTransition:!0,onClose:p.closeCheat,children:(0,U.BX)("div",{className:ew.sudokuSolution,onClick:p.closeCheat,children:[(0,U.tZ)("span",{className:ew.sudokuSolutionClose,children:"\xd7"}),(0,U.tZ)("div",{onClick:eE.UW,children:(0,U.tZ)(e_,{attempt:r,hintPos:-1})})]})})]})})]}),(0,U.tZ)(eR,{size:s.BASE_2,container:n.current,cellPos:d.current,visible:c,onCancel:()=>h(!1),onConfirm:p.handleInput})]})},ew={sudokuSolution:(0,w.iv)({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",background:"#eddede"}),sudokuSolutionClose:(0,w.iv)({position:"absolute",top:"0",right:"0",bottom:"unset",left:"unset",display:"inline-block",height:"48px",width:"48px",lineHeight:"48px",fontSize:"32px",textAlign:"center",verticalAlign:"center",color:"#333",cursor:"pointer"}),sudokuWrapper:(0,w.iv)({display:"block",maxWidth:"90vw",margin:"auto"}),sudokuMain:(0,w.iv)({display:"flex",justifyContent:"center",padding:"1rem",margin:"0"}),sudokuMainWrapper:(0,w.iv)({display:"block",overflow:"auto",fontSize:"16px"})},eD=e=>{let{theme:t,children:o}=e,r=S(),i=(0,E.vc)(r.status$),a=(0,E.vc)(r.SUDOKU_SIZE_SQRT$),l=(0,w.cx)(eI.common,t===eE.Q2.light&&eI.light,t===eE.Q2.darken&&eI.darken,2===a&&eI.size4,i===f.X.PENDING&&eI.statusPending,i===f.X.PAUSED&&eI.statusPaused,i===f.X.END&&eI.statusEnd);return(0,U.tZ)("div",{className:l,children:o})},eI={common:(0,w.iv)({"--sudoku_fontSize":"18px","--sudoku_fontSizeBoardCell":"16px","--sudoku_fontSizeFinishedBanner":"32px","--sudoku_sizeBoardCell":"32px","--sudoku_sizeBorderBoard1":"1px","--sudoku_sizeBorderBoard2":"2px","--sudoku_sizeBorderBoard3":"3px",display:"block",transform:"scale(1)",caretColor:"transparent",background:"transparent",color:p.colorBody}),light:(0,w.iv)({"--sudoku_colorBgBoard":"hsl(0deg, 0%, 80%)","--sudoku_colorBgBoardCell":"hsl(0deg, 0%, 100%)","--sudoku_colorBgBoardCellActivated":"hsl(210deg, 80%, 60%)","--sudoku_colorBgBoardCellDuplicated":"hsl(30deg, 100%, 50%)","--sudoku_colorBgBoardCellRelated":"hsl(207deg, 30%, 92%)","--sudoku_colorBgBoardCellSame":"hsl(210deg, 60%, 80%)","--sudoku_colorBoardCellActivated":"hsl(0deg, 0%, 100%)","--sudoku_colorBoardCellAttempt":"hsl(207deg, 100%, 50%)","--sudoku_colorBoardCellHint":"hsl(30deg, 100%, 50%)","--sudoku_colorBoardCellPreset":"hsl(0deg, 0%, 20%)","--sudoku_colorBoardCellSame":"hsl(0deg, 0%, 20%)","--sudoku_colorBody":"hsl(0deg, 0%, 30%)","--sudoku_colorBorderBoard2":"hsl(0deg, 0%, 7%)","--sudoku_colorBorderBoard3":"hsl(0deg, 0%, 7%)","--sudoku_colorElapsedTime":"hsl(0deg, 0%, 35%)","--sudoku_colorScore":"hsl(120deg, 100%, 30%)"}),darken:(0,w.iv)({"--sudoku_colorBgBoard":"hsl(0deg, 0%, 50%)","--sudoku_colorBgBoardCell":"hsl(0deg, 0%, 10%)","--sudoku_colorBgBoardCellActivated":"hsl(150deg, 50%, 40%)","--sudoku_colorBgBoardCellDuplicated":"hsl(0deg, 80%, 50%)","--sudoku_colorBgBoardCellRelated":"hsl(210deg, 31%, 37%)","--sudoku_colorBgBoardCellSame":"hsl(150deg, 50%, 20%)","--sudoku_colorBoardCellActivated":"hsl(0deg, 0%, 80%)","--sudoku_colorBoardCellAttempt":"hsl(210deg, 80%, 60%)","--sudoku_colorBoardCellHint":"hsl(39deg, 100%, 50%)","--sudoku_colorBoardCellPreset":"hsl(0deg, 0%, 80%)","--sudoku_colorBoardCellSame":"hsl(0deg, 0%, 80%)","--sudoku_colorBody":"hsl(0deg, 0%, 85%)","--sudoku_colorBorderBoard2":"hsl(0deg, 0%, 70%)","--sudoku_colorBorderBoard3":"hsl(0deg, 0%, 70%)","--sudoku_colorElapsedTime":"hsl(0deg, 0%, 80%)","--sudoku_colorScore":"hsl(120deg, 80%, 70%)"}),size4:(0,w.iv)({"&&":{[c.fontSize]:"24px",[c.fontSizeBoardCell]:"20px",[c.fontSizeFinishedBanner]:"20px",[c.sizeBoardCell]:"48px"}}),statusPending:(0,w.iv)({"&&":{[h.colorBorderBoard2]:"transparent",[h.colorBorderBoard3]:"transparent"}}),statusPaused:(0,w.iv)({"&&":{[h.colorBorderBoard2]:"transparent",[h.colorBorderBoard3]:"transparent"}}),statusEnd:(0,w.iv)({"&&":{[h.colorBorderBoard2]:"transparent",[h.colorBorderBoard3]:"transparent"}})}},19568:function(e,t,o){o.d(t,{v:function(){return c}});var r=o(94026),i=o(40308),a=o(51326),l=o(26813),s=o(2265),n=o(85800),d=o(77205),u=o(37239);let c=(0,n.Um)({displayName:"PersistentSudokuContextProvider",version:u.Zi,disposeWhenUnmounted:!0,Provider:u.yL.Provider,Persistent:e=>{let{viewmodel:t,storage:o,storageKey:n}=e,c=(0,d.xo)(),h=(0,l.sD)(t,["SUDOKU_SIZE_SQRT$","difficulty$","radix$","score$","puzzle$","solution$","instructions$","activatedPos$","gameTick$"]),p=s.useMemo(()=>(0,i.P2)(()=>{let e={elapsedTime:t.elapsedTime$.getSnapshot(),SUDOKU_SIZE_SQRT:t.SUDOKU_SIZE_SQRT$.getSnapshot(),difficulty:t.difficulty$.getSnapshot(),radix:t.radix$.getSnapshot(),score:t.score$.getSnapshot(),puzzle:t.puzzle$.getSnapshot(),solution:t.solution$.getSnapshot(),instructions:Array.from(t.instructions$.getSnapshot()),activatedPos:t.activatedPos$.getSnapshot(),gameTick:t.gameTick$.getSnapshot()};return c.reporter$.getSnapshot().debug("saving {}. data:",n,e),o.save({version:u.Zi,data:e})},200),[c,t,o,n]);return s.useEffect(()=>void p(),[p,h]),(0,a.i7)(()=>p.flushSync(),!1),(0,r.tZ)(s.Fragment,{})},SideEffect:()=>(0,r.tZ)(s.Fragment,{}),ViewModel:u.Z,initContextState:u.ef})},37663:function(e,t,o){o.d(t,{a:function(){return n}});var r=o(94026),i=o(26813);o(2265);var a=o(77205),l=o(37239),s=o(19568);let n=e=>{let{storageKey:t,initialState:o}=e,n=(0,a.xo)(),d=(0,i.vc)(n.theme$);return(0,r.tZ)(s.v,{storageKey:t,initialData:o,children:(0,r.tZ)(l.X2,{theme:d,children:(0,r.tZ)(l.N,{})})})};n.displayName="SudokuGame"}}]);