(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{55525:function(e,t,r){Promise.resolve().then(r.bind(r,86982))},59698:function(e,t,r){"use strict";var n=r(60891);t.Z=void 0;var i=n(r(19438)),o=r(3827);t.Z=(0,i.default)((0,o.jsx)("circle",{cx:"12",cy:"12",r:"10"}),"Brightness1")},52399:function(e,t,r){"use strict";var n=r(60891);t.Z=void 0;var i=n(r(19438)),o=r(3827);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2"}),"Brightness2")},11664:function(e,t,r){"use strict";r.d(t,{D:function(){return s},T:function(){return v}});var n=r(94026),i=r(40663),o=r(26813),a=r(85800),l=r(77205);r(64090);let s=e=>{let t=(0,l.xo)(),r=(0,o.vc)(t.author$);return(0,n.tZ)(a.rU,{className:(0,i.cx)(h.container,e.className),url:r.about,title:"about",onClick:a.UW,children:(0,n.tZ)(a.Ee,{alt:"avatar",src:r.avatar})})},h={container:(0,i.iv)({display:"inline-block",boxSizing:"border-box",transition:"all 0.3s",padding:0,borderRadius:"50%",margin:0,overflow:"hidden",textAlign:"center",userSelect:"none","&&:hover":{transform:"scale(1.1) rotate(360deg)"},"&>img":{boxSizing:"border-box",display:"inline-block",width:"100%",height:"100%"}})};var c=r(51326),u=r(59698),d=r(52399),g=r(74404),m=r.n(g);let v=e=>{let t=(0,l.xo)(),r=(0,o.vc)(t.theme$)===a.Q2.darken,s=(0,c.$0)(e=>{e.stopPropagation(),t.dispatch({type:l.Jx.TOGGLE_THEME,payload:r?a.Q2.light:a.Q2.darken})}),h=r?d.Z:u.Z;return(0,n.tZ)("div",{className:(0,i.cx)(p.container,e.className),children:(0,n.tZ)(h,{className:p.icon,onClick:s})})};v.propTypes={className:m().string};let p={container:(0,i.iv)({cursor:"pointer"}),icon:(0,i.iv)({height:24,width:24,color:"hsl(55deg, 40%, 60%)"})}},77205:function(e,t,r){"use strict";r.d(t,{_j:function(){return N},Jx:function(){return i},xo:function(){return l}});let n="2023-06-11";(i||(i={})).TOGGLE_THEME="toggle-theme";var i,o=r(64090);let a=o.createContext(null);a.displayName="SiteContextType";let l=()=>o.useContext(a);var s=r(43930),h=r(43233),c=r(85800),u=r(89539),d=r.n(u);function g(){return window.screen.width}function m(e){return e<c.eq.xs?"xs":e<c.eq.sm?"sm":e<c.eq.md?"md":e<c.eq.lg?"lg":e<c.eq.xl?"xl":"xlPlus"}class v{get level(){return this._level}get name(){return this._name}setLevel(e){null!=e&&(this._levle=e)}write(e){console.log(e)}debug(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.debug(this.format(e,r))}verbose(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.log(this.format(e,r))}info(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.info(this.format(e,r))}warn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.warn(this.format(e,r))}error(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.error(this.format(e,r))}fatal(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.error(this.format(e,r))}format(e,t){let r=(0,s.A3)(this._level),n=d()().format("YYYY-MM-DD HH:mm:ss"),i="["+this.name+"]",o="string"==typeof e?e:"",a=[];if("string"!=typeof e){let t=this.formatData(e);a.push(t)}for(let e of t){let t=this.formatData(e);a.push(t)}let l=0,h=a.length>0?o.replace(this._placeholderRegex,e=>{let t=a[l];return l+=1,void 0===t?e:t}):o;for(let e=l;e<a.length;++e)h+=" "+a[e];return n+" "+r+" "+i+" "+h}formatData(e){var t,r;let n=this._inline,i="function"==typeof e?e():"function"==typeof(null==e?void 0:e.toJSON)?e.toJSON():e;if(null===i)return"null";if(void 0===i)return"undefined";switch(typeof i){case"string":return n?i.replace(/\s*\n\s*/g," "):i;case"boolean":return i?"true":"false";case"number":return String(i)}return i instanceof Error?null!==(r=null!==(t=i.stack)&&void 0!==t?t:i.message)&&void 0!==r?r:i.name:n?JSON.stringify(i,null,0):JSON.stringify(i,null,2)}constructor(e){let{level:t,name:r,inline:n=!0,placeholderRegex:i=RegExp("(?<!\\\\)\\{\\}","g")}=e;this._level=t,this._name=r,this._inline=n,this._placeholderRegex=i}}let p=new v({name:"waw",level:h.H.ERROR}),f={author:{name:"guanghechen",motto:"有花满渚、有酒盈瓯",avatar:"",github:"https://github.com/guanghechen",rss:"/rss.xml",about:"/about"},copyright:{date:"2017-".concat(new Date().getFullYear())},description:"guanghechen's personal site",reporter:p,screenWidth:g(),screenBreakpoint:m(g()),siteUrl:"https://guanghechen.github.io",theme:c.Q2.light,title:"guanghechen"};var x=r(96827);class b{constructor(e){this.toggleTheme=e=>{this.viewmodel.theme$.next(e)},this.viewmodel=e.viewmodel}}class y extends x.jz{constructor(e){super(),this.getSnapshot=()=>({author:{...this.author$.getSnapshot()},copyright:{...this.copyright$.getSnapshot()},description:this.description$.getSnapshot(),reporter:this.reporter$.getSnapshot(),screenWidth:this.screenWidth$.getSnapshot(),screenBreakpoint:this.screenBreakpoint$.getSnapshot(),siteUrl:this.siteUrl$.getSnapshot(),theme:this.theme$.getSnapshot(),title:this.title$.getSnapshot()}),this.dispatch=e=>{let t=w[e.type];t?t(this._controller,e):console.error(this.constructor.name,"Unhandled action:",e)};let{author:t,copyright:r,description:n,reporter:i,siteUrl:o,title:a,theme:l}=e;this.author$=new x.ZM({...t}),this.copyright$=new x.ZM({...r}),this.description$=new x.ZM(n),this.reporter$=new x.ZM(i),this.screenWidth$=new x.ZM(g()),this.siteUrl$=new x.ZM(o),this.theme$=new x.ZM(l),this.title$=new x.ZM(a),this.screenBreakpoint$=x.D0.fromObservables([this.screenWidth$],e=>{let[t]=e;return m(t)});let s=new b({viewmodel:this});this._controller=s}}let w={[i.TOGGLE_THEME]:(e,t)=>{let r=t.payload;e.toggleTheme(r)}};var S=r(94026),$=r(40308),B=r(51326),Z=r(26813);let N=(0,c.Um)({displayName:"PersistentSiteContextProvider",version:n,disposeWhenUnmounted:!0,Provider:a.Provider,Persistent:e=>{let{viewmodel:t,storage:r,storageKey:i}=e,a=(0,Z.sD)(t,["theme$"]),l=o.useMemo(()=>(0,$.P2)(()=>{let e={theme:t.theme$.getSnapshot()};return t.reporter$.getSnapshot().debug("saving {}. data:",i,e),r.save({version:n,data:e})},100),[t,r,i]);return o.useEffect(()=>void l(),[l,a]),(0,B.i7)(l,!1),(0,S.tZ)(o.Fragment,{})},SideEffect:e=>{let{viewmodel:t}=e;return o.useEffect(()=>{let e=()=>{let e=g();t.screenWidth$.next(e)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t]),(0,S.tZ)(o.Fragment,{})},ViewModel:y,initContextState:function(e){var t,r,n,i,o,a,l;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,{author:h,copyright:c,title:u,description:d,siteUrl:v,theme:p,reporter:x}=null!=e?e:{};return{author:{name:null!==(t=null==h?void 0:h.name)&&void 0!==t?t:s.author.name,motto:null!==(r=null==h?void 0:h.motto)&&void 0!==r?r:s.author.motto,avatar:null!==(n=null==h?void 0:h.avatar)&&void 0!==n?n:s.author.avatar,github:null!==(i=null==h?void 0:h.github)&&void 0!==i?i:s.author.github,rss:null!==(o=null==h?void 0:h.rss)&&void 0!==o?o:s.author.rss,about:null!==(a=null==h?void 0:h.about)&&void 0!==a?a:s.author.about},copyright:{date:null!==(l=null==c?void 0:c.date)&&void 0!==l?l:s.copyright.date},description:null!=d?d:s.description,reporter:null!=x?x:s.reporter,screenWidth:g(),screenBreakpoint:m(g()),siteUrl:null!=v?v:s.siteUrl,theme:null!=p?p:s.theme,title:null!=u?u:s.title}}})},86982:function(e,t,r){"use strict";r.r(t),r.d(t,{GameLayoutView:function(){return h}});var n=r(94026),i=r(40663),o=r(26813);r(64090);var a=r(85800),l=r(11664),s=r(77205);let h=e=>{var t,r;let i=(0,s.xo)(),h=(0,o.vc)(i.author$),u=(0,o.vc)(i.copyright$),d=(0,o.vc)(i.theme$),g=null!==(t=(0,a.W$)().split(/[/\\]+/g).at(-1))&&void 0!==t?t:"";return"game"===g?g="":g+=" game",(0,n.BX)("div",{className:c.container,"data-theme":d,children:[(0,n.BX)("header",{className:c.header,children:[(0,n.tZ)("h1",{className:c.title,children:null!==(r=e.title)&&void 0!==r?r:g}),(0,n.BX)("div",{className:c.toolbarButtons,children:[(0,n.tZ)(l.T,{className:c.themeToggle}),(0,n.tZ)(l.D,{className:c.authorAvatar})]})]}),(0,n.tZ)("main",{className:c.main,children:e.children}),(0,n.tZ)("footer",{className:c.footer,children:(0,n.BX)("div",{className:c.copyright,children:[(0,n.BX)("span",{children:["\xa9 ",u.date," ",h.name]},"date"),(0,n.tZ)("span",{children:h.motto},"motto")]})})]})};h.displayName="GameLayoutView";let c={container:(0,i.iv)({['&[data-theme="'.concat(a.Q2.light,'"]')]:{"--colorBgBody":"#EAEAEA","--colorBgHeader":"transparent"},['&[data-theme="'.concat(a.Q2.darken,'"]')]:{"--colorBgBody":"#4D4D4D","--colorBgHeader":"#333333"},position:"relative",boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100vw",minHeight:"100vh",backgroundColor:"var(--colorBgBody)"}),header:(0,i.iv)({flex:"0 0 auto",alignItems:"center",display:"flex",boxSizing:"border-box",backgroundColor:"var(--colorBgHeader)"}),main:(0,i.iv)({flex:"1 0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",margin:"32px 0",backgroundColor:"var(--colorBgBody)"}),footer:(0,i.iv)({flex:"0 0 auto",boxSizing:"border-box",width:"100%",padding:"1rem",lineHeight:"2",color:"hsla(0deg, 0%, 85%, 0.8)",background:"hsl(0deg, 0%, 20%)",fontSize:"max(0.8rem, 12px)",fontFamily:"'Andale Mono', 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif",textShadow:"0 1px #333"}),title:(0,i.iv)({flex:"1 1 auto",color:"#696969",textAlign:"center",fontFamily:"'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif",margin:"1rem 0",textTransform:"capitalize"}),toolbarButtons:(0,i.iv)({flex:"0 0 auto",display:"flex",alignItems:"center"}),themeToggle:(0,i.iv)({marginRight:16,width:24,height:24}),authorAvatar:(0,i.iv)({marginRight:16,width:24,height:24}),copyright:(0,i.iv)({display:"flex",justifyContent:"space-between",maxWidth:400,margin:"auto",userSelect:"none"})}}},function(e){e.O(0,[74,32,4,800,971,69,744],function(){return e(e.s=55525)}),_N_E=e.O()}]);